var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var c=0;return function(){return c<k.length?{done:!1,value:k[c++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var c="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return c?c.call(k):$jscomp.arrayIterator(k)};var mvpjq=jQuery;
(function(k){var c=function(){};c.test=document.createElement("div");c.isEmpty=function(p){return 0==p.replace(/^\s+|\s+$/g,"").length};c.strip=function(p){return p.replace(/^\s+|\s+$/g,"")};c.isNumber=function(p){return!isNaN(parseFloat(p))&&isFinite(p)};c.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};c.isIE=function(){return-1!=c.getInternetExplorerVersion()?!0:!1};c.isChrome=function(){return!!k.chrome&&(!!k.chrome.webstore||!!k.chrome.runtime)};
c.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")};c.hasLocalStorage=function(){try{return"localStorage"in k&&null!==k.localStorage}catch(p){return!1}};c.getInternetExplorerVersion=function(){var p=-1;if("Microsoft Internet Explorer"==navigator.appName){var u=navigator.userAgent,B=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=B.exec(u)&&(p=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(u=navigator.userAgent,B=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=B.exec(u)&&(p=parseFloat(RegExp.$1)));return p};c.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};c.isiPhoneIpod=function(){var p=navigator.userAgent;return-1<p.indexOf("iPhone")||-1<p.indexOf("iPod")};c.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};c.hasHistory=function(){return!(!k.history||!history.pushState)};c.hasDownloadSupport=function(){return"download"in
document.createElement("a")};c.b64DecodeUnicode=function(p){return decodeURIComponent(atob(p).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join(""))};c.volumeCanBeSet=function(){var p=document.createElement("audio");if(!p)return!1;p.volume=0;return 0==p.volume?!0:!1};c.supportsWebGL=function(){try{return!!k.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(p){return!1}};c.canPlayMp4=function(){var p=document.createElement("video");
return!(!p.canPlayType||!p.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};c.canPlayMp3=function(){var p=document.createElement("audio");return!(!p.canPlayType||!p.canPlayType("audio/mpeg;").replace(/no/,""))};c.canPlayWav=function(){var p=document.createElement("audio");return!(!p.canPlayType||!p.canPlayType("audio/wav;").replace(/no/,""))};c.relativePath=function(p){return/^(?:[a-z]+:)?\/\//i.test(p)};c.qualifyURL=function(p){var u=document.createElement("a");u.href=
p;return u.href};c.hasFullscreen=function(){return c.test.requestFullscreen||c.test.mozRequestFullScreen||c.test.msRequestFullscreen||c.test.oRequestFullscreen||c.test.webkitRequestFullScreen};c.selectText=function(p){var u=document;if(u.body.createTextRange)u=u.body.createTextRange(),u.moveToElementText(p),u.select();else if(k.getSelection){var B=k.getSelection();u=u.createRange();u.selectNodeContents(p);B.removeAllRanges();B.addRange(u)}};c.randomiseArray=function(p){var u=[],B=[],I;for(I=0;I<p;I++)u[I]=
I;for(I=0;I<p;I++){var A=Math.round(Math.random()*(u.length-1));B[I]=u[A];u.splice(A,1)}return B};c.shuffleArray=function(p){var u;for(u=p.length-1;0<u;u--){var B=Math.floor(Math.random()*(u+1));var I=p[u];p[u]=p[B];p[B]=I}return p};c.sortArray=function(p,u){var B,I=p.length,A=[];for(B=0;B<I;B++)A[B]=p[u[B]];return A};c.arrayContainsAnotherArray=function(p,u){var B,I=p.length;for(B=0;B<I;B++)if(-1<u.indexOf(p[B]))return!0;return!1};c.regroupArray=function(p){return p.reduce(function(u,B){var I=B.value,
A=$jscomp.makeIterator(B.key.split("-"));A.next();var H=A.next().value,O=A.next().value;u[H]=u[H]||[];I.forEach(function(C,da){return(u[H][da]=u[H][da]||{})[O]=C});return u},[])};c.keysrt=function(p,u,B){var I=1;B&&(I=-1);return p.sort(function(A,H){var O=A[u],C=H[u];return I*(O<C?-1:O>C?1:0)})};c.formatTime=function(p){p=parseInt(p,10);var u=Math.floor(p/3600),B=Math.floor((p-3600*u)/60);p=p-3600*u-60*B;if(0<u)return 10>u&&(u="0"+u),10>B&&(B="0"+B),10>p&&(p="0"+p),u+":"+B+":"+p;10>B&&(B="0"+B);10>
p&&(p="0"+p);return B+":"+p};c.toSeconds=function(p){p=p.split(/[\.:,]+/);return Number(3600*+p[0]+60*+p[1]+ +p[2])};c.getViewportSize=function(p){return p?{w:k.innerWidth,h:k.innerHeight}:{w:document.documentElement.clientWidth||k.innerWidth,h:document.documentElement.clientHeight||k.innerHeight}};c.isScrolledIntoView=function(p){p=p.getBoundingClientRect();var u=p.bottom;return 0<=p.top+p.height/2&&u-p.height/2<=k.innerHeight};c.getElementOffsetTop=function(p){p=p.getBoundingClientRect();var u=
document.body,B=document.documentElement;return Math.round(p.bottom-100+(k.pageYOffset||B.scrollTop||u.scrollTop)-(B.clientTop||u.clientTop||0))};c.getScrollTop=function(p){p=document.documentElement;return(k.pageYOffset||p.scrollTop)-(p.clientTop||0)};c.rgbToHex=function(p){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(p)?p:(p=p.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===p.length?"#"+("0"+parseInt(p[1],10).toString(16)).slice(-2)+("0"+parseInt(p[2],10).toString(16)).slice(-2)+
("0"+parseInt(p[3],10).toString(16)).slice(-2):""};c.getUrlParameter=function(p){var u={};k.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(B,I,A){u[I]=A});return p?u[p]:u};c.checkCssExist=function(p){for(var u=document.styleSheets,B=0,I=u.length;B<I;B++)if(u[B].href==p)return;u=document.createElement("link");u.rel="stylesheet";u.href=p;document.getElementsByTagName("head")[0].appendChild(u)};k.MVPUtils=c})(window);
(function(k,c){k.MVPPlaylistManager=function(p){function u(){$a?(Y=$a.slice(),$a=null):Y=MVPUtils.randomiseArray(C);console.log(Y)}function B(v,Ea){if(v[0]==Ea){var Sc=v.splice(0,1);v.push(Sc)}}function I(v,Ea){if(v[C-1]==Ea){var Sc=v.splice(C-1,1);v.unshift(Sc)}}var A=this,H=p.loopingOn,O=p.randomPlay,C,da=!1,E=-1,Pa,qc,Ja=!1,Y=[],$a,Xb=!1;setTimeout(function(){clearTimeout(this);c(A).trigger("MVPPlaylistManager.RANDOM_CHANGE",O);c(A).trigger("MVPPlaylistManager.LOOP_CHANGE",H)},50);this.setCounter=
function(v,Ea){"undefined"===typeof Ea&&(Ea=!0);E=Ea?E+parseInt(v,10):parseInt(v,10);isNaN(E)?alert("MVPPlaylistManager message: No active media, counter = "+E):(da=!1,H?(O?E>C-1?(E=Y[C-1],u(),B(Y,E),E=0):0>E&&(E=Y[0],u(),I(Y,E),E=C-1):E>C-1?E=0:0>E&&(E=C-1),c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):(E>C-1?(E=C-1,da=!0):0>E&&(da=!0,E=0),da?c(A).trigger("MVPPlaylistManager.PLAYLIST_END"):c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())))};this.getCounter=function(){return O?
Xb?E:Y[E]:E};this.getNextCounter=function(v){v=E+v;da=!1;if(H)O?v>C-1?(v=Y[C-1],$a=MVPUtils.randomiseArray(C),B($a,v),v=0):0>v&&(v=Y[0],$a=MVPUtils.randomiseArray(C),I($a,v),v=C-1):v>C-1?v=0:0>v&&(v=C-1);else if(v>C-1?(da=!0,v=C-1):0>v&&(da=!0,v=0),da)return;return O?Xb?v:($a||Y)[v]:v};this.advanceHandler=function(v){Xb=!1;Ja?(Ja=!1,qc+v>C-1?(E=C-1,c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):0>qc+v?(E=0,c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):A.setCounter(qc+
v,!1)):A.setCounter(v)};this.processPlaylistRequest=function(v){Xb=!1;O&&(Xb=!0,Pa=v,Ja||(qc=E,Ja=!0));A.setCounter(v,!1)};this.setPlaylistItems=function(v,Ea){"undefined"===typeof Ea&&(Ea=!0);Ea&&(E=-1);C=v;O&&u()};this.reSetCounter=function(v){"undefined"===typeof v?E=-1:(v=parseInt(v,10),C?(v>C-1?v=C-1:0>v&&(v=0),E=v):E=-1)};this.setRandom=function(v){O="undefined"!==typeof v?v:!O;3>C&&(O=!1);O&&u();if(O){var Ea=Y.length;for(v=0;v<Ea;v++)if(Y[v]==E){if(0==v)break;v=Y.splice(v,1);Y.unshift(parseInt(v,
10));break}E=0}else Ja?(E=Pa,Ja=!1):E=Y[E];c(A).trigger("MVPPlaylistManager.RANDOM_CHANGE",O)};this.getRandom=function(v){return O};this.setLooping=function(v){H="undefined"!==typeof v?v:!H;c(A).trigger("MVPPlaylistManager.LOOP_CHANGE",H)};this.getLooping=function(v){return H};this.getPosition=function(v){return Y.indexOf(v)}}})(window,jQuery);
(function(k,c){function p(I,A,H,O){var C={},da=H.width();H=H.height();O=u(A,O);A=O.width;O=O.height;var E=(da-0)/(H-0),Pa=A/O;Pa<E?I?(C.width=(H-0)/O*A,C.height=H-0):(C.height=(da-0)/A*O,C.width=da-0):Pa>E?I?(C.height=(da-0)/A*O,C.width=da-0):(C.width=(H-0)/O*A,C.height=H-0):(C.width=da-0,C.height=H-0);return C}function u(I,A){var H={};"video"==I?A[0]&&A[0].videoWidth&&A[0].videoHeight?(H.width=A[0].videoWidth,H.height=A[0].videoHeight):(H.width=16,H.height=9):"iframe"==I?A.sw&&A.sh?(H.width=A.sw,
H.height=A.sh):(H.width=16,H.height=9):"image"==I&&(H.width=A.width(),H.height=A.height());return H}var B=function(){};B.resizeMedia=function(I,A,H,O){var C,da=H.width();var E=H.height();0==A?C=u(I,O):1==A?C=p(!0,I,H,O):2==A&&(C=p(!1,I,H,O));I=parseInt((da-C.width)/2,10);E=parseInt((E-C.height)/2,10);O.css({width:C.width+"px",height:C.height+"px",left:I+"px",top:E+"px"})};k.MVPAspectRatio=B})(window,jQuery);
(function(k){k.fn.mvp=function(c){function p(){Z.swipe({swipeLeft:function(a,b,d,e,g,m){if(!x)return!1;("audio"==l||"video"==l&&!f.is360||"image"==l&&!f.is360||"youtube"==l&&"chromeless"==c.youtubePlayerType&&!f.is360||"vimeo"==l&&"chromeless"==ta&&!f.is360)&&Gb()},swipeRight:function(a,b,d,e,g,m){if(!x)return!1;("audio"==l||"video"==l&&!f.is360||"image"==l&&!f.is360||"youtube"==l&&"chromeless"==c.youtubePlayerType&&!f.is360||"vimeo"==l&&"chromeless"==ta&&!f.is360)&&De()}})}function u(){Ee=!1;n.removeClass("mvp-theater");
c.theaterElement&&k(c.theaterElement).removeClass(c.theaterElementClass);rc&&rc.removeClass("mvp-lightbox-center");Uf=c.instanceName;var a=n[0];if("normal"==ua){var b=document,d=b.documentElement;b=b.body;ch=d.scrollLeft||b.scrollLeft||0;dh=d.scrollTop||b.scrollTop||0;k(q).trigger("fullscreenBeforeEnter",{instance:q,instanceName:c.instanceName,media:f})}Gi?a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():a.webkitRequestFullScreen?document.webkitIsFullScreen?
document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():a.mozRequestFullScreen()):"fullscreen"==ua?I():B();setTimeout(function(){kb()},250)}function B(){ua="fullscreen";ia.removeClass(c.minimizeClass);eh.addClass("mvp-fs-overflow");n.addClass("mvp-fs");
"lightbox"==c.playerType&&Yb.addClass("mvp-fs");Zb.find(".mvp-btn-fullscreen").hide();Zb.find(".mvp-btn-normal").show();sc.hide();document.body.style.cursor="default";"custom"==c.rightClickContextMenu&&(Fe.find(".mvp-context-fullscreen-enter").hide(),Fe.find(".mvp-context-fullscreen-exit").show());c.hidePlaylistOnFullscreenEnter&&c.playlistOpened&&(Vf=!0,T.hide(),c.playlistOpened=!1);"outer"==F&&tc.hide();k(q).trigger("fullscreenEnter",{instance:q,instanceName:c.instanceName,media:f})}function I(){ua=
"normal";eh.removeClass("mvp-fs-overflow");n.removeClass("mvp-fs");"lightbox"==c.playerType&&Yb.removeClass("mvp-fs");Zb.find(".mvp-btn-fullscreen").show();Zb.find(".mvp-btn-normal").hide();sc.show();document.body.style.cursor="default";"custom"==c.rightClickContextMenu&&(Fe.find(".mvp-context-fullscreen-enter").show(),Fe.find(".mvp-context-fullscreen-exit").hide());Vf&&!c.playlistOpened&&(Vf=!1,T.show(),c.playlistOpened=!0);"outer"==F&&tc.show();window.scrollTo(ch,dh);c.minimizeOnScroll&&(c.minimizeOnScrollOnlyIfPlaying?
fa&&Tc():Tc());Uf=null;k(q).trigger("fullscreenExit",{instance:q,instanceName:c.instanceName,media:f})}function A(a){if(!Ge){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Ge=!0;Qa.on(ub,function(b){a:{if("touchmove"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<
d.length)break a;d=d[0]}else d=b;b.preventDefault();H(d)}}).on(Uc,function(b){a:if(Ge){Ge=!1;Qa.off(ub).off(Uc);if("touchend"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();H(d)}})}return!1}function H(a){a=a.pageX-Ra.offset().left;0>a?a=0:a>Fa&&(a=Fa);S||(Fa=Ra.width());
var b=Math.max(0,Math.min(1,a/Fa));if(S){if("audio"!=l||isNaN(w.duration))if("video"!=l||isNaN(r.duration))"youtube"==l?(d=D.getDuration(),e=b*d,e>d-1&&(e=d-1),D.seekTo(e)):"vimeo"==l&&("chromeless"==ta&&P.show(),0!=Hb?(d=Hb,e=b*d,e>d-1&&(e=d-1),y.setCurrentTime(e)):y.getDuration().then(function(g){d=g;e=b*d;e>d-1&&(e=d-1);y.setCurrentTime(e)}));else{d=r.duration;e=b*d;e>d-1&&(e=d-1);try{r.currentTime=e.toFixed(1)}catch(g){}}else{var d=w.duration;var e=b*d;e>d-1&&(e=d-1);try{w.currentTime=e.toFixed(1)}catch(g){}}fa||
(Ib=null,uc(!0))}else f.duration&&(e=b*f.duration,f.start=e,Fd.width(e/f.duration*Fa))}function O(a){var b=a.pageX-Ra.offset().left;if(!MVPUtils.isNumber(b))return!1;0>b?b=0:b>Fa&&(b=Fa);var d=Math.max(0,Math.min(1,b/Fa));if(!MVPUtils.isNumber(d))return!1;b=ia.hasClass(c.minimizeClass)?ia:Jb?ia:n;var e=b[0].getBoundingClientRect(),g=ab[0].getBoundingClientRect();if(f.duration)var m=f.duration;else"audio"==l?m=w.duration:"video"==l?m=r.duration:"youtube"==l?m=D.getDuration():"vimeo"==l&&(m=Hb);if(f.previewSeek){d*=
m;MVPUtils.isNumber(m)&&Hi.html(MVPUtils.formatTime(d));if(Kb.length){var h=Kb.length;for(m=0;m<h;m++){var t=Kb[m];var z=t.start;var ha=t.end;if(d>=z&&d<=ha){if(!Lb){t=t.url;var aa=t.substr(t.lastIndexOf("=")+1).split(",");aa="-"+aa[0]+"px -"+aa[1]+"px";t=encodeURI(t);Lb={};Lb.start=z;Lb.end=ha;Wf.css({"background-image":"url("+t+")","background-position":aa})}}else Lb&&(d<Lb.start||d>Lb.end)&&(Lb=null)}}a=a.pageX-Sa.scrollLeft()-e.left-vb.outerWidth()/2;e=g.top-e.top-vb.outerHeight()-10;"lightbox"!=
c.playerType&&(0>a?a=0:a+vb.outerWidth()>b.width()&&(a=b.width()-vb.outerWidth()));$b&&Ii(d);vb.css({left:parseInt(a,10)+"px",top:parseInt(e,10)+"px"}).show()}else a=a.pageX-Sa.scrollLeft()-e.left-ba.outerWidth()/2,e=g.top-e.top-ba.outerHeight(),"lightbox"!=c.playerType&&(0>a?a=0:a+ba.outerWidth()>b.width()&&(a=b.width()-ba.outerWidth())),ba.css({left:parseInt(a,10)+"px",top:parseInt(e,10)+"px"}).show(),MVPUtils.isNumber(m)&&ba.text(MVPUtils.formatTime(m*d)+" / "+MVPUtils.formatTime(m))}function C(a){if(x){if(!He){if("touchstart"==
a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();He=!0;Qa.on(ub,function(b){a:{if("touchmove"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();E(d)}}).on(Uc,function(b){a:if(He){He=!1;Qa.off(ub).off(Uc);if("touchend"==b.type){if(b.originalEvent.touches&&
b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();E(d)}})}return!1}}function da(){if(!x)return!1;0<J?(fh=J,J=0):J=fh;Pa()}function E(a){vc?J=Math.max(0,Math.min(1,(a.pageX-Vc.offset().left)/Wc)):(J=Math.max(0,Math.min(1,(a.pageY-Vc.offset().top)/Wc)),J=1-J);Pa()}function Pa(a){"undefined"!==typeof a&&(J=a);"undefined"!==
typeof J&&("audio"==l?w&&(w.volume=J,w.muted=0==J?!0:!1):"video"==l?r&&(r.volume=J,r.muted=0==J?!0:!1):"youtube"==l?D&&(D.setVolume(100*J),0==J?D.mute():D.unMute()):"vimeo"==l&&y&&y.setVolume(J));Xc.children().hide();0==J?Xc.find(".mvp-btn-volume-off").show():0<J&&.5>J?Xc.find(".mvp-btn-volume-down").show():.5<=J&&1>=J&&Xc.find(".mvp-btn-volume-up").show();0<J&&Yc&&(Yc.remove(),Yc=null);Ji.css(vc?"width":"height",J*Wc+"px");k(q).trigger("volumeChange",{instance:q,instanceName:c.instanceName,volume:J})}
function qc(a){var b=vc?a.pageX-Vc.offset().left:a.pageY-Vc.offset().top;0>b?b=0:b>Wc&&(b=Wc);b=Math.max(0,Math.min(1,b/Wc));if(!MVPUtils.isNumber(b))return!1;vc||(b=1-b);b=parseInt(100*b,10);ba.text(b+" %");var d=(ia.hasClass(c.minimizeClass)?ia:Jb?ia:n)[0].getBoundingClientRect(),e=Ta[0].getBoundingClientRect();vc?(b=parseInt(a.pageX-Sa.scrollLeft()-d.left-ba.outerWidth()/2),a=parseInt(e.top-d.top-ba.outerHeight())):(b=parseInt(e.left-d.left-ba.outerWidth()/2+Ta.outerWidth()/2),a=parseInt(a.pageY-
Sa.scrollTop()-d.top-ba.outerHeight()-10));ba.css({left:b+"px",top:a+"px"}).show()}function Ja(){V.find(".mvp-settings-menu").css("display","none");var a=V.width(),b=V.height();V.css({width:"auto",height:"auto"});wc.css("display","block");var d=wc.width(),e=wc.height();V.css({width:a+"px",height:b+"px"});setTimeout(function(){V.css({width:d+"px",height:e+"px"})},20)}function Y(a){Ie&&Ie.removeClass("mvp-menu-active");Ie=gh.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");V.find(".mvp-playback-rate-menu-value").text(Ie.text())}
function $a(a,b){var d,e=a.length;for(d=0;d<e;d++){var g=a[d];g.label?k("<li/>").addClass("mvp-menu-item").attr({"data-value":g.value,"data-label":g.label}).text(g.label).on("click",Xb).appendTo(Je):k("<li/>").addClass("mvp-menu-item").attr("data-value",g).text(g).on("click",Xb).appendTo(Je)}v(b);hh.removeClass("mvp-force-hide")}function Xb(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?ac.click():Ja(),!1;var a=k(this).attr("data-value");f.quality=a;v(a);S?q.setPlaybackQuality(a):
Xf();c.closeSettingsMenuOnSelect?ac.click():Ja()}function v(a){Ke&&Ke.removeClass("mvp-menu-active");Ke=Je.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");V.find(".mvp-quality-menu-value").text(Ke.text())}function Ea(){var a=k(this).attr("data-value");"hls"==oa&&(U.audioTrack=a);c.closeSettingsMenuOnSelect?ac.click():Ja()}function Sc(){var a,b=f.subtitles.length,d;Gd&&localStorage.getItem(xc)&&(d=JSON.parse(localStorage.getItem(xc)));for(a=0;a<b;a++){var e=f.subtitles[a];k("<li/>").addClass("mvp-menu-item").attr({"data-value":e.value,
"data-label":e.label}).text(e.label).on("click",Ki).appendTo(Hd);if(d){if(d.active&&d.value==e.label)var g=e.label}else e["default"]&&(g=e.label)}g||(g=c.subtitleOffText);q.setSubtitle(g);ih.removeClass("mvp-force-hide");yc.show();Le=!0}function Ki(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?ac.click():Ja(),!1;var a=k(this).attr("data-label");q.setSubtitle(a);c.closeSettingsMenuOnSelect?ac.click():Ja()}function Li(a){k.ajax({url:a.src}).done(function(b){b=b.split(/[\r\n]/);
var d;for(d in b){var e=b[d];if(/.vtt/.test(e)){a.src=a.src.substr(0,a.src.lastIndexOf("/")+1)+e;var g=!0;break}}g?jh(a):console.log("Error loading subtitle!")}).fail(function(b,d,e){console.log(b,d,e)})}function jh(a){if("file:"==window.location.protocol)return console.log("Getting subtitle requires server connection."),!1;lb=[];var b=a.src;-1!=b.indexOf("ebsfm:")&&(b=MVPUtils.b64DecodeUnicode(b.substr(6)));k.ajax({url:b}).done(function(d){d=d.replace(/\r\n|\r|\n/g,"\n");d=MVPUtils.strip(d);d=d.split("\n\n");
var e,g=0,m;for(e in d){var h=d[e].split("\n");if("WEBVTT"!=h&&2<=h.length&&"WEBVTT"!=h[0]){if(2<h.length){var t=MVPUtils.strip(h[1].split(" --\x3e ")[0]);var z=MVPUtils.strip(h[1].split(" --\x3e ")[1]);var ha=h[2];if(3<h.length)for(m=3;m<h.length;m++)ha+="\n"+h[m]}else t=MVPUtils.strip(h[0].split(" --\x3e ")[0]),z=MVPUtils.strip(h[0].split(" --\x3e ")[1]),ha=h[1];lb[g]={};lb[g].start=MVPUtils.toSeconds(t);lb[g].end=MVPUtils.toSeconds(z);lb[g].text=ha;g++}}Me[a.label]=lb;Zc=!0;S&&(Ib=null,uc(!0))}).fail(function(d,
e,g){console.log(d,e,g)})}function Id(a){if("undefined"!==typeof a){if(mb&&1==a||!mb&&0==a)return!1;mb=!a}mb?wb.one("transitionend",function(){wb.css("display","none");mb=!1}).removeClass("mvp-holder-visible"):(wb.css("display","block"),setTimeout(function(){wb.addClass("mvp-holder-visible");mb=!0},20))}function Mi(){Ua=[];k.ajax({url:f.chapters}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var b,d=0,e;for(b in a){var g=a[b].split("\n");if("WEBVTT"!=g){if(2<=
g.length)if(2<g.length){var m=MVPUtils.strip(g[1].split(" --\x3e ")[0]);var h=MVPUtils.strip(g[1].split(" --\x3e ")[1]);var t=g[2];if(2<g.length)for(e=3;e<g.length;e++)t+="\n"+g[e]}else m=MVPUtils.strip(g[0].split(" --\x3e ")[0]),h=MVPUtils.strip(g[0].split(" --\x3e ")[1]),t=g[1];Ua[d]={};Ua[d].id=d;Ua[d].start=MVPUtils.toSeconds(m);Ua[d].end=MVPUtils.toSeconds(h);Ua[d].text=t;d++}}f.duration&&c.showControlsBeforeStart&&kh(f.duration);$c=!0}).fail(function(a,b,d){console.log("Error loading chapters: ",
a.responseText,b,d)})}function kh(a){var b,d=Ua.length;for(b=0;b<d;b++){var e=Ua[b];var g=Math.abs(e.end-e.start);g=g/a*100;var m=e.start/a*100;g=k('<div class="mvp-chapter-indicator"><div class="mvp-chapter-indicator-highlight"></div></div>').css({width:g+"%",left:m+"%"}).attr({"data-id":b,"data-title":e.text,"data-start":e.start,"data-end":e.end});if(!Ba)g.on("mouseenter",function(){var h=k(this),t=h.attr("data-id");h.find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");
Jd.find('.mvp-chapter-menu-item[data-id="'+t+'"]').addClass("mvp-chapter-menu-item-active");ad.css("opacity",1).text(h.attr("data-title"));fa||X.hide()}).on("mouseleave",function(){var h=k(this),t=h.attr("data-id");ad.css("opacity",0);fa||X.show();xb&&xb.id==t||(h.find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),Jd.find('.mvp-chapter-menu-item[data-id="'+t+'"]').removeClass("mvp-chapter-menu-item-active"))});if(c.seekToChapterStart)g.on("click",function(){var h=
k(this),t=h.attr("data-id");Yf(t);h=Number(h.attr("data-start"));S?(q.seek(h),fa||(Ib=null,uc(!0))):(f.start=h,f.duration&&(Fa=Ra.width(),Fd.width(h/f.duration*Fa)))});g.appendTo(Ra);e=k('<li class="mvp-chapter-menu-item">'+e.text+"</li>").attr({"data-id":b,title:e.text,"data-start":e.start}).on("click",function(){var h=k(this),t=h.attr("data-id");Yf(t);h=Number(h.attr("data-start"));S?(q.seek(h),fa||(Ib=null,uc(!0))):(f.start=h,f.duration&&(Fa=Ra.width(),Fd.width(h/f.duration*Fa)));c.hideChapterMenuOnChapterSelect&&
Id(!1)}).appendTo(Jd);if(!Ba)e.on("mouseenter",function(){var h=k(this),t=h.attr("data-id");Ra.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");h.addClass("mvp-chapter-menu-item-active")}).on("mouseleave",function(){var h=k(this),t=h.attr("data-id");xb&&xb.id==t||(Ra.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),
h.removeClass("mvp-chapter-menu-item-active"))})}Kd=!0;Ld.show();c.autoOpenChapterMenu&&Id()}function Yf(a){Ne&&Ne.removeClass("mvp-chapter-menu-item-active");Ne=Jd.find(".mvp-chapter-menu-item[data-id='"+a+"']").addClass("mvp-chapter-menu-item-active");Oe&&Oe.removeClass("mvp-chapter-indicator-highlight-visible");Oe=Ra.find(".mvp-chapter-indicator[data-id='"+a+"']").find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");xb=Ua[a]}function lh(a){var b,d=bb.length;
for(b=0;b<d;b++){var e=bb[b];var g=Math.round(e.begin/a*100);e.marker=k('<div class="mvp-ad-indicator"></div>').css({left:g+"%"}).appendTo(Ra)}}function Ni(){Md=document.createElement("canvas");Nd=vb.width();Od=vb.height();Md.width=Nd;Md.height=Od;bd=Md.getContext("2d");Wf.append(Md);ea=document.createElement("video");ea.muted=!0;ea.playsinline=!0;ea.setAttribute("playsinline","playsinline");ea.setAttribute("muted","muted");ea.addEventListener("seeked",function(){Pe||(Pe=!0,bd.drawImage(ea,0,0,Nd,
Od))});"hls"==oa?zc&&(cd=new Hls,cd.on(Hls.Events.MEDIA_ATTACHED,function(){cd.loadSource(K)})):"dash"==oa&&(Pd=dashjs.MediaPlayer().create())}function Ii(a){Pe=!1;var b=ea.play();void 0!==b&&b.then(function(){})["catch"](function(d){});try{ea.currentTime=a}catch(d){}}function mh(){ea&&ea.pause();bd&&bd.clearRect(0,0,Nd,Od)}function Oi(){if("file:"==window.location.protocol)return console.log("Getting preview seek requires server connection."),!1;Kb=[];k.ajax({url:f.previewSeek}).done(function(a){a=
a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var b,d=0;for(b in a){var e=a[b].split("\n");if("WEBVTT"!=e){if(2<=e.length){var g=MVPUtils.strip(e[0].split(" --\x3e ")[0]);var m=MVPUtils.strip(e[0].split(" --\x3e ")[1]);e=e[1];Kb[d]={};Kb[d].start=MVPUtils.toSeconds(g);Kb[d].end=MVPUtils.toSeconds(m);Kb[d].url=e}d++}}Qd=!0}).fail(function(a,b,d){console.log(a,b,d)})}function Pi(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);if(a.hasClass("mvp-playback-toggle"))q.togglePlayback();
else if(a.hasClass("mvp-big-play"))X.hide(),q.togglePlayback();else if(a.hasClass("mvp-playlist-toggle"))nh();else if(a.hasClass("mvp-resume-continue"))Zf(!1),0==nb||0!=J||cb||(cb=!0,J=nb),ja();else if(a.hasClass("mvp-resume-restart"))Zf(!1),0==nb||0!=J||cb||(cb=!0,J=nb),ca=0,ja();else if(a.hasClass("mvp-cc-toggle"))q.toggleSubtitle();else if(a.hasClass("mvp-info-toggle"))$f();else if(a.hasClass("mvp-info-close"))$f(!1);else if(a.hasClass("mvp-redirect-login-close"))dd();else if(a.hasClass("mvp-share-close"))ag(!1);
else if(a.hasClass("mvp-chapter-toggle"))Id();else if(a.hasClass("mvp-chapter-menu-close"))Id(!1);else if(a.hasClass("mvp-minimize-close"))Sa.off(oh),Tc(!0),c.minimizeOnScroll=!1;else if(a.hasClass("mvp-pwd-confirm")){var b=Qe.val();if(MVPUtils.isEmpty(b))alert(bg);else if("undefined"===typeof md5){a=document.createElement("script");a.type="text/javascript";var d=MVPUtils.relativePath(c.md5_js)?c.md5_js:MVPUtils.qualifyURL(c.sourcePath+c.md5_js);a.src=d;a.onload=a.onreadystatechange=function(){this.readyState&&
"complete"!=this.readyState||(md5(b)!=f.pwd?alert(bg):(delete f.pwd,bc.one("transitionend",function(){bc.css("display","none")}).removeClass("mvp-holder-visible"),Qe.val(""),"0"!=f.lockTime||ed?Ac?fd():ja():dd("watch")))};a.onerror=function(){alert("Error loading "+this.src)};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}else md5(b)!=f.pwd?alert(bg):(delete f.pwd,bc.one("transitionend",function(){bc.css("display","none")}).removeClass("mvp-holder-visible"),Qe.val(""),
"0"!=f.lockTime||ed?Ac?fd():ja():dd("watch"))}else if(a.hasClass("mvp-previous-toggle")){if(c.disableVideoSkip)return!1;De()}else if(a.hasClass("mvp-next-toggle")){if(c.disableVideoSkip)return!1;Gb()}else if(a.hasClass("mvp-rewind-toggle"))q.seek(0);else if(a.hasClass("mvp-skip-backward-toggle"))q.seekBackward();else if(a.hasClass("mvp-skip-forward-toggle"))q.seekForward();else if(a.hasClass("mvp-loop-toggle"))M.setLooping();else if(a.hasClass("mvp-shuffle-toggle"))M.setRandom();else if(a.hasClass("mvp-share-toggle"))ag();
else if(a.hasClass("mvp-pip-toggle"))if(ph)if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(e){}else try{r.requestPictureInPicture()}catch(e){}else r.webkitSupportsPresentationMode&&"function"===typeof r.webkitSetPresentationMode&&r.webkitSetPresentationMode("picture-in-picture"===r.webkitPresentationMode?"inline":"picture-in-picture");else if(a.hasClass("mvp-theater-toggle"))Ee?(c.theaterElement&&k(c.theaterElement).removeClass(c.theaterElementClass),k(q).trigger("beforeTheaterExit",
{instance:q,instanceName:c.instanceName,media:f}),cg&&!c.playlistOpened&&(cg=!1,T.show(),c.playlistOpened=!0),n.removeClass("mvp-theater"),kb()):(c.theaterElement&&k(c.theaterElement).addClass(c.theaterElementClass),k(q).trigger("beforeTheaterEnter",{instance:q,instanceName:c.instanceName,media:f}),c.hidePlaylistOnTheaterEnter&&c.playlistOpened&&(cg=!0,T.hide(),c.playlistOpened=!1),n.addClass("mvp-theater"),kb(),setTimeout(function(){kb()},250),c.focusVideoInTheater&&(a=L.offset().top,k("html,body").animate({scrollTop:a},
500))),Ee=!Ee;else if(a.hasClass("mvp-share-item")){if(!l)return!1;Re&&Re.share(a.attr("data-type").toLowerCase(),f,q.getCurrentMediaUrl())}}function Qi(a){a.preventDefault();if(!x||c.disableVideoSkip)return!1;a=k(a.currentTarget);dg=!0;f&&Bc();a=a.attr("data-id");M.processPlaylistRequest(a);k(q).trigger("clickPlaylistItem",{instance:q,instanceName:c.instanceName});"outer"==F?(a=L.offset().top,Sa.scrollTop()>a&&k("html,body").animate({scrollTop:a},500)):Ba&&T.hasClass("mvp-playlist-holder-bottom")&&
(a=L.offset().top,Sa.scrollTop()>a&&k("html,body").animate({scrollTop:a},500))}function Ri(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);var b=a.attr("data-id");b=ka[b].data;!Ba&&b.hoverPreview&&(b=a.find(".mvp-thumbimg"),b.attr("data-src",b.attr("src")).attr("src",f.hoverPreview));if(wa&&wa.is(a))return!1;a.addClass("mvp-playlist-item-selected")}function Si(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);var b=a.attr("data-id");b=ka[b].data;!Ba&&b.hoverPreview&&(b=a.find(".mvp-thumbimg"),
b.attr("src",b.attr("data-src")));if(wa&&wa.is(a))return!1;a.removeClass("mvp-playlist-item-selected")}function eg(){wa.removeClass("mvp-playlist-item-selected");k(q).trigger("playlistItemEnabled",{instance:q,instanceName:c.instanceName});wa=null}function Ti(){wa&&eg();wa=N.children(".mvp-playlist-item").eq(yb);if(wa.length){wa.addClass("mvp-playlist-item-selected");if(db&&0<Q){if(!dg&&("buttons"==zb||"scroll"==zb))if(ob)ob.scrollTo(wa);else var a=setInterval(function(){ob&&(clearInterval(a),ob.scrollTo(wa))},
100);dg=!1}k(q).trigger("playlistItemDisabled",{instance:q,instanceName:c.instanceName})}}function qh(a,b){var d=M.getNextCounter(b);if("undefined"!==typeof d){if(d=ka[d].data,d.thumb||d.title)d.thumb?fg.css({"background-image":"url("+encodeURI(d.thumb)+")",display:"block"}):fg.css("display","none"),d.title?gg.html(d.title):gg.html(""),d.duration?hg.html(MVPUtils.formatTime(d.duration)):hg.html("")}else return!1;var e=(ia.hasClass(c.minimizeClass)?ia:Jb?ia:n)[0].getBoundingClientRect(),g=a[0].getBoundingClientRect(),
m=Ui[0].getBoundingClientRect();d=Ga.hasClass("mvp-upnext-l-side")?1==b?parseInt(g.left-e.left-Ga.width()-10):parseInt(g.left-e.left+g.width+10):Ga.hasClass("mvp-upnext-l-center")?parseInt(g.left-e.left-Ga.width()/2+g.width/2):parseInt(g.left-e.left);e=Ga.hasClass("mvp-upnext-t-center")?parseInt(g.top-e.top+g.height/2-Ga.height()/2):parseInt(m.top-e.top-Ga.height()-10);Ga.addClass("mvp-upnext-wrap2-visible").css({left:d+"px",top:e+"px"})}function Vi(){l&&(R||"youtube"==l&&"default"==c.youtubePlayerType||
"vimeo"==l&&"default"==ta||"custom"==l||(Cc=window.setTimeout(function(){fa&&(Va.one("transitionend",function(){eb=!0}).removeClass("mvp-player-controls-visible"),pa&&Ka.removeClass("mvp-subtitle-visible"),"fullscreen"==ua&&(document.body.style.cursor="none"),ba.hide(),f.previewSeek&&(vb.hide(),$b&&mh()),ad.css("opacity",0),mb&&wb.removeClass("mvp-holder-visible"))},c.idleTimeout)))}function ig(a){!l||R||"youtube"==l&&"default"==c.youtubePlayerType||"vimeo"==l&&"default"==ta||"custom"==l||(Cc&&clearTimeout(Cc),
S&&eb&&(Va.one("transitionend",function(){eb=!1}).addClass("mvp-player-controls-visible"),pa&&Ka.addClass("mvp-subtitle-visible"),mb&&wb.addClass("mvp-holder-visible"),"fullscreen"==ua&&(document.body.style.cursor="default")),fa&&Vi())}function $f(a){if("undefined"!==typeof a){if(Mb&&1==a||!Mb&&0==a)return!1;Mb=!a}Mb?(Rd.one("transitionend",function(){Rd.css("display","none");Mb=!1}).removeClass("mvp-holder-visible"),Ab&&(q.playMedia(),Ab=!1)):(fa&&(q.pauseMedia(),Ab=!0),Rd.css("display","block"),
setTimeout(function(){Rd.addClass("mvp-holder-visible");Mb=!0},20))}function ag(a){if("undefined"!==typeof a){if(Nb&&1==a||!Nb&&0==a)return!1;Nb=!a}Nb?(Sd.one("transitionend",function(){Sd.css("display","none");Nb=!1}).removeClass("mvp-holder-visible"),Ab&&(q.playMedia(),Ab=!1)):(fa&&(q.pauseMedia(),Ab=!0),Sd.css("display","block"),setTimeout(function(){Sd.addClass("mvp-holder-visible");Nb=!0},20))}function dd(a){Se?(Td.one("transitionend",function(){Td.css("display","none");Se=!1}).removeClass("mvp-holder-visible"),
Ab&&(q.playMedia(),Ab=!1)):(k(q).trigger("beforeLoginScreen",{instance:q,instanceName:c.instanceName,media:f}),fa&&(q.pauseMedia(),Ab=!0),Td="download"==a?rh:sh,Td.css("display","block"),setTimeout(function(){Td.addClass("mvp-holder-visible");Se=!0},20))}function Zf(a){if("undefined"!==typeof a){if(gd&&1==a||!gd&&0==a)return!1;gd=!a}gd?Te.one("transitionend",function(){Te.css("display","none");gd=!1}).removeClass("mvp-holder-visible"):(Te.css("display","block"),setTimeout(function(){Te.addClass("mvp-holder-visible");
gd=!0},20))}function th(a){Ha=!0;P.show();Dc&&Ue();var b=jg.length?jg.find(a):k(a);if(0==b.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;Bb=void 0!=b.attr("data-playlist-id")?b.attr("data-playlist-id"):null;hd=a;k(q).trigger("playlistStartLoad",{instance:q,instanceName:c.instanceName});id=-1;la=[];Ca=[];b.find(".mvp-global-playlist-data").length&&(G=b.find(".mvp-global-playlist-data").css("display","none").clone().prependTo(N),
G.find(".mvp-ad-section").length&&(Ve=G.find(".mvp-ad-section")),G.find(".mvp-annotation-section").length&&(We=G.find(".mvp-annotation-section")),void 0!=G.attr("data-pwd")&&(Xe=G.attr("data-pwd")),void 0==G.attr("data-start")||MVPUtils.isEmpty(G.attr("data-start"))||(Ye=Number(G.attr("data-start"))),void 0==G.attr("data-end")||MVPUtils.isEmpty(G.attr("data-end"))||(Ze=Number(G.attr("data-end"))),void 0==G.attr("data-playback-rate")||MVPUtils.isEmpty(G.attr("data-playback-rate"))||($e=Number(G.attr("data-playback-rate"))),
void 0!=G.attr("data-lock-time")&&(af=Number(G.attr("data-lock-time"))),void 0==G.attr("data-lock-video-user-roles")||MVPUtils.isEmpty(G.attr("data-lock-video-user-roles"))||(bf=G.attr("data-lock-video-user-roles").split(",")));b.children(".mvp-playlist-item").each(function(){Ca.push(Ud(k(this)))});Q=Ca.length;xa()}function jd(a){if("youtube"==a)if("undefined"===typeof MVPYoutubeLoader){var b=document.createElement("script");b.type="text/javascript";b.src=MVPUtils.qualifyURL(c.sourcePath+c.youtubeLoader_js);
b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||jd(a)};b.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}else Wa=new MVPYoutubeLoader(c),k(Wa).on("MVPYoutubeLoader.END_LOAD",function(e,g){var m,h=g.data.length;for(m=0;m<h;m++){var t=g.data[m];la.push(t)}Xa=g.nextPageToken;La?Vd():xa()}),cc&&Xa&&(Wa.setDataFromCache(Ud(k(cc))),Wd=!1);else"vimeo"==a&&("undefined"===typeof MVPVimeoLoader?
(b=document.createElement("script"),b.type="text/javascript",b.src=MVPUtils.qualifyURL(c.sourcePath+c.vimeoLoader_js),b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||jd(a)},b.onerror=function(){alert("Error loading "+this.src)},d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(b,d)):(Ma=new MVPVimeoLoader(c),k(Ma).on("MVPVimeoLoader.END_LOAD",function(e,g){var m,h=g.data.length;for(m=0;m<h;m++){var t=g.data[m];la.push(t)}Xa=g.nextPageToken;
La?Vd():xa()}),cc&&Xa&&(Ma.setDataFromCache(Ud(k(cc))),Wd=!1)))}function xa(){c.hidePlayerUntilPlaylistStartLoad&&(c.hidePlayerUntilPlaylistStartLoad=!1,n.css("display","block").removeClass("mvp-player-force-hidden"),kb(),setTimeout(function(){ia.css("opacity",1)},50));id++;if(id>Q-1)Vd();else{var a=Ca[id],b=a.type;if(RegExp(/^youtube/).test(b))if(a.noApi)la.push(a),xa();else if(Ob="youtube",a.loadMore&&(fb=!0),Wa)Wa.setData(a);else{jd("youtube");var d=setInterval(function(){Wa&&(clearInterval(d),
Wa.setData(a))},100)}else RegExp(/^vimeo/).test(b)?a.noApi?(la.push(a),xa()):(Ob="vimeo",a.loadMore&&(fb=!0),Ma?Ma.setData(a):(jd("vimeo"),d=setInterval(function(){Ma&&(clearInterval(d),Ma.setData(a))},100))):RegExp(/^folder/).test(b)?Wi(a):RegExp(/^audio|^video|^image|^hls|^dash|^custom/).test(b)?(la.push(a),xa()):"xml"==b?Xi(a):"json"==b&&Yi(a)}}function Xi(a){k.ajax({type:"GET",url:a.path,dataType:"html"}).done(function(b){k(b).children(".mvp-playlist-item").each(function(){Ca.push(Ud(k(this)))});
Q=Ca.length;xa()}).fail(function(b,d,e){console.log(b,d,e);xa()})}function Yi(a){k.ajax({type:"GET",url:a.path,dataType:"json"}).done(function(b){id=-1;la=[];Ca=[];Dc=N;Array.isArray(b)?Ca=b:Ca.push(b);Q=Ca.length;xa()}).fail(function(b,d,e){console.log("Error processJson: "+b,d,e);xa()})}function Wi(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires online server connection."),xa(),!1;var b=a.type;if("folder_video"==b)var d=
["mp4"];else"folder_audio"==b?(a.id3&&(kg=Ec=la.length-1),d=["mp3","wav"]):"folder_image"==b&&(d=["jpg","jpeg","png","gif"]);k.ajax({type:"GET",url:c.sourcePath+"includes/folder_parser.php",data:{type:d,dir:a.path,limit:a.limit||100},dataType:"json"}).done(function(e){a.sort&&("filename-asc"==a.sort?MVPUtils.keysrt(e,"filename"):"filename-desc"==a.sort?MVPUtils.keysrt(e,"filename",!0):"date-asc"==a.sort?MVPUtils.keysrt(e,"filemtime"):"date-desc"==a.sort&&MVPUtils.keysrt(e,"filemtime",!0));var g,m=
e.length;for(g=0;g<m;g++){var h=e[g];if("folder_audio"==b){if(/mp3|wav/.test(h.basename)){var t=k.extend(!0,{},a);t.type="audio";var z=h.fullpath;"mp3"==h.extension?t.path=[{quality:"default",mp3:z}]:"wav"==h.extension&&(t.path=[{quality:"default",wav:z}]);c.requirePosterFromFolder&&(t.poster=z.substr(0,z.lastIndexOf("/")+1)+"poster/"+h.filename+".jpg");c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg");t.share||(t.share=z);t.title||(t.title=
h.filename);la.push(t);Ec++}}else"folder_video"==b?/mp4/.test(h.basename)&&(t=k.extend(!0,{},a),t.type="video",z=h.fullpath,t.path=[{quality:"default",mp4:z}],c.requirePosterFromFolder&&(t.poster=z.substr(0,z.lastIndexOf("/")+1)+"poster/"+h.filename+".jpg"),c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg"),t.share||(t.share=z),t.title||(t.title=h.filename),la.push(t)):"folder_image"==b&&/jpg|jpeg|png|gif/.test(h.basename)&&(t=k.extend(!0,
{},a),t.type="image",z=h.fullpath,t.path=z,c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg"),t.share||(t.share=z),t.title||(t.title=h.filename),la.push(t))}"folder_audio"==b?a.id3?cf():xa():xa()}).fail(function(e,g,m){console.log(e,g,m);xa()})}function cf(){if("undefined"===typeof jsmediatags){var a=document.createElement("script");a.type="text/javascript";var b=MVPUtils.relativePath(c.mediatags_js)?c.mediatags_js:MVPUtils.qualifyURL(c.sourcePath+
c.mediatags_js);a.src=b;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||cf()};a.onerror=function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}else{var d=la[Ec];jsmediatags.read(d.path[0].mp3||d.path[0].wav,{onSuccess:function(e){var g=e.tags;e=g.picture;g.artist&&(d.artist=g.artist);g.title&&(d.title=g.title);g.album&&(d.album=g.album);if(e){g="";var m,h=e.data.length;for(m=0;m<h;m++)g+=String.fromCharCode(e.data[m]);
d.thumb="data:"+e.format+";base64,"+window.btoa(g)}Ec--;Ec>kg?cf():xa()},onError:function(e){console.log("ID3 error: ",e.type,e.info);Ec--;Ec>kg?cf():xa()}})}}function Vd(){var a,b=Fc?pb:ka.length,d=la.length,e,g=0;lg=[];for(a=0;a<d;a++){var m=a+b;Fc&&g++;var h=mg?la[a].data:la[a];var t=h.type;if(db){h.origclasses||(h.origclasses="mvp-playlist-item");var z=k('<div class="'+h.origclasses+'"/>').attr("data-type",t);delete h.origclasses;if(-1!=df.indexOf("thumb")){var ha=null;if("youtube"==h.type)h.thumbnails&&
(k.each(h.thumbnails,function(Zi,$i){if(Zi==c.youtubeThumbSize)return ha=$i.url,!1}),ha||(h.thumbnails.medium?ha=h.thumbnails.medium.url:h.thumbnails.high?ha=h.thumbnails.high.url:h.thumbnails.standard&&(ha=h.thumbnails.standard.url)),c.showControlsBeforeStart&&!h.poster&&(h.thumbnails.maxres?h.poster=h.thumbnails.maxres.url:h.thumbnails.high?h.poster=h.thumbnails.high.url:h.thumbnails.standard&&(h.poster=h.thumbnails.standard.url)));else if("vimeo"==h.type&&h.pictures){var aa=h.pictures.sizes;var Xd=
aa.length;for(e=0;e<Xd;e++)if(aa[e].width==aj){ha=aa[e].link;break}if(!ha)for(e=0;e<Xd;e++)if(295==aa[e].width||640==aa[e].width){ha=aa[e].link;break}if(c.showControlsBeforeStart&&!h.poster)for(e=0;e<Xd;e++)if(1280==aa[e].width||1920==aa[e].width){h.poster=aa[e].link;break}}ha||(ha=h.thumb||h.thumbDefault);ha&&(aa=k("<div/>").addClass("mvp-playlist-thumb").appendTo(z),e=h.alt?h.alt:h.title?h.title.replace(/"/g,"'"):"image",k(new Image).addClass("mvp-thumbimg").appendTo(aa).attr({src:ha,alt:e}),h.thumb=
ha,-1<df.indexOf("duration")&&(h.duration?k('<span class="mvp-playlist-duration">'+MVPUtils.formatTime(h.duration)+"</span>").appendTo(aa):k('<span class="mvp-playlist-duration mvp-hidden"></span>').appendTo(aa)),c.displayWatchedPercentage&&k('<div class="mvp-media-watched-bg mvp-hidden"><div class="mvp-media-watched-progress"></div></div>').appendTo(aa))}if(h.title||h.description||h.publishedAt)for(aa=k('<div class="mvp-playlist-info"></div>').appendTo(z),Xd=df.length,e=0;e<Xd;e++){var ya=df[e];
"title"==ya&&h.title?(ya=h.title.replace(/"/g,"'"),z.attr("title",ya),k('<span class="mvp-playlist-title">'+ya+"</span>").appendTo(aa)):"date"==ya&&h.date?(ya=new Date(h.date),ya=ya.getMonth()+1+"/"+ya.getDate()+"/"+ya.getFullYear(),k('<span class="mvp-playlist-published-date">'+ya+"</span>").appendTo(aa)):"description"==ya&&h.description&&(ya=h.description.replace(/"/g,"'"),z.attr("data-description",ya),0<c.limitDescriptionText&&ya.length>c.limitDescriptionText&&(ya=ya.substr(0,c.limitDescriptionText)+
"..."),k('<span class="mvp-playlist-description">'+ya+"</span>").appendTo(aa))}void 0!=h.mediaId&&z.attr("data-media-id",h.mediaId);h.title&&(e=h.title.replace(/['"\|]/g,""),z.attr("data-safe-title",e),h.safeTitle=e);h.category&&z.attr("data-category",h.category);h.tag&&z.attr("data-tag",h.tag);h.customContent&&(z.append(h.customContent),delete h.customContent);if(Fc){uh?uh.after(z):kd?z.appendTo(N):N.children("div").eq(pb).before(z);var uh=z}else z.appendTo(N);if(db&&c.addPlaylistEvents&&(z.on("click",
Qi),!Ba))z.on("mouseenter",Ri).on("mouseleave",Si)}else c.useStatistics&&void 0!=h.mediaId&&h.title&&(e=h.title.replace(/['"\|]/g,""),h.safeTitle=e);void 0!=Bb&&(h.playlistId=Bb);ka.splice(m,0,{id:m,type:t,data:h});lg.push({id:m,type:t,data:h})}Dc=N;vh();Fc?(m=M.getCounter(),M.setPlaylistItems(Q,!1),pb<=m&&(kd||M.reSetCounter(m+g)),ef&&!Ba&&(ma=!0),ef&&(dc=!1,M.setCounter(pb,!1))):M.setPlaylistItems(Q);wh()}function vh(){Q=ka.length;if(db){var a=0;N.find(".mvp-playlist-item").each(function(){k(this).attr("data-id",
a);ka[a].id=a;a++})}else for(a=0;a<Q;a++)ka[a].id=a}function wh(){Ha=!1;if(!x){x=!0;if(G&&(ec=parseInt(G.attr("data-add-more-limit"),10),ld=parseInt(G.attr("data-add-more-num-results"),10),fc=parseInt(G.attr("data-add-more-offset"),10),ff=G.attr("data-add-more-sort-order"),gf=G.attr("data-add-more-sort-direction"),hf=G.attr("data-encrypt-media-paths"),void 0!=G.attr("data-taxonomy")&&(jf=G.attr("data-taxonomy")),void 0!=G.attr("data-category")&&(kf=G.attr("data-category")),void 0!=G.attr("data-tag")&&
(lf=G.attr("data-tag")),void 0!=G.attr("data-match")&&(mf=G.attr("data-match")),void 0!=G.attr("data-add-more-on-total-scroll")&&(Pb=!0),void 0!=G.attr("data-use-pagination")&&(Gc=Math.ceil(ld/ec),ld>ec))){Ya=0;ng(Ya);var a;for(a=0;a<Gc;a++){var b=0==a?{page:0}:{page:null};md.push(b)}xh(Ya)}db&&""!=zb&&!yh&&("undefined"===typeof MVPPlaylistNavigation?(a=document.createElement("script"),a.type="text/javascript",a.src=MVPUtils.qualifyURL(c.sourcePath+c.playlist_navigation_js),a.onload=a.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||zh()},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)):zh(),yh=!0);L.on("mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove",ig);k(q).trigger("setupDone",{instance:q,instanceName:c.instanceName});P.hide();c.createPlayer&&P.appendTo(L);c.hidePlayerUntilPlaylistStartLoad||(kb(),ia.css("opacity",1));c.minimizeOnScroll&&(Ah=MVPUtils.getElementOffsetTop(n[0]),
Sa.on(oh,function(){nd||(nd=!0,c.minimizeOnScrollOnlyIfPlaying?fa&&Tc():Tc(),setTimeout(function(){nd=!1},100))}))}Hc&&!Wd&&Bh();if(db&&0<Q){c.breakPointArr&&(Ch(),og=gc,N.find(".mvp-playlist-item").each(function(){if(0<Na){var g=100/gc;k(this).css({marginLeft:0,marginTop:0,marginRight:Na+"px",marginBottom:Na+"px",width:"calc("+g+"% - "+Na+"px)"})}else k(this).css({marginLeft:0,marginTop:0,marginRight:Na+"px",marginBottom:Na+"px",width:100/gc+"%"})}));"h"==od&&(console.log(Q,c.pi_size),N.width(Q*
c.pi_size));var d=[];N.find(".mvp-thumbimg:not(.mvp-visible)").each(function(){d.push(k(this))});var e=0;a=d.length;for(b=0;b<a;b++)setTimeout(function(){clearTimeout(this);d[e].addClass("mvp-visible");e++},50+50*b);c.truncatePlaylistDescription&&("undefined"!==typeof k.fn.dotdotdot?(c.playlistOpened||T.addClass("mvp-force-playlist-show"),N.find(".mvp-playlist-info:not(.ddd-truncated)").each(function(){k(this).dotdotdot({watch:c.truncateWatch})}),T.removeClass("mvp-force-playlist-show")):(a=document.createElement("script"),
a.type="text/javascript",b=MVPUtils.relativePath(c.dotdot_js)?c.dotdot_js:MVPUtils.qualifyURL(c.sourcePath+c.dotdot_js),a.src=b,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(c.playlistOpened||T.addClass("mvp-force-playlist-show"),N.find(".mvp-playlist-info:not(.ddd-truncated)").each(function(){k(this).dotdotdot({watch:c.truncateWatch})}),T.removeClass("mvp-force-playlist-show"))},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],
b.parentNode.insertBefore(a,b)));c.displayWatchedPercentage&&db&&bj()}if(!pg&&!Fc&&0<Q){if(void 0!=c.mediaId){c.mediaTitle?(a=N.find(".mvp-playlist-item[data-media-id="+c.mediaId+'][title="'+c.mediaTitle+'"]'),0==a.length&&(a=N.find(".mvp-playlist-item[data-media-id="+c.mediaId+"]")),delete c.mediaTitle):a=N.find(".mvp-playlist-item[data-media-id="+c.mediaId+"]");a=N.children(".mvp-playlist-item").index(a);if(void 0==a||-1==a)return alert("No media with ID to load! LoadMedia failed."),!1;delete c.mediaId;
M.processPlaylistRequest(a)}else a=c.activeItem,a>Q-1&&(a=Q-1),-1<a&&M.setCounter(a,!1);pg=!0}Fc=!1;P.hide();La&&(La=!1,"buttons"==zb&&ob&&ob.showButtons("forward"));gb&&(fb?Xa?gb.css("opacity",1):(gb.remove(),gb=null,fb=!1):Pb?0<ld&&(ld>fc?gb.css("opacity",1):(gb.remove(),gb=null,Pb=!1)):(gb.remove(),gb=null));k(q).trigger("playlistEndLoad",{instance:q,instanceName:c.instanceName,loadMoreOnTotalScroll:fb,addMoreOnTotalScroll:Pb})}function Ch(){var a=n.width(),b,d=c.breakPointArr.length;for(b=0;b<
d;b++){var e=c.breakPointArr[b];a>e.width&&(gc=e.column,Na=e.gutter)}qg.css({paddingTop:Na+"px",paddingLeft:Na+"px"})}function zh(){c.parent=q;c.wrapper=n;c.playlistHolder=T;c.playlistInner=qg;c.playlistContent=N;ob=new MVPPlaylistNavigation(c)}function nf(){if(MVPUtils.isScrolledIntoView(n[0]))ma=Ic=!0,q.playMedia();else Sa.on(rg,function(){nd||(nd=!0,MVPUtils.isScrolledIntoView(n[0])?(ma=Ic=!0,q.playMedia()):q.pauseMedia(),setTimeout(function(){nd=!1},250))})}function Tc(a){"fullscreen"!=ua&&(!a&&
MVPUtils.getScrollTop()>Ah?ia.hasClass(c.minimizeClass)||(ia.addClass(c.minimizeClass),c.hidePlaylistOnMinimize&&c.playlistOpened&&(T.hide(),c.playlistOpened=!1)):ia.hasClass(c.minimizeClass)&&(ia.removeClass(c.minimizeClass),c.hidePlaylistOnMinimize&&!c.playlistOpened&&(T.show(),c.playlistOpened=!0)),kb())}function Yd(){of=!1;"youtube_single"==f.type?f.type="youtube":"vimeo_single"==f.type&&(f.type="vimeo");l=f.type;"audio"==l||"video"==l?(Xf(),c.hideQualityMenuOnSingleQuality&&1==Zd.length||Zd.length&&
$a(Zd,f.quality)):K=f.path;-1!=K.indexOf("ebsfm:")&&(K=MVPUtils.b64DecodeUnicode(K.substr(6)));"hls"==l?(l="video",oa="hls"):"dash"==l&&(l="video",oa="dash");Ac=!1;R||c.skipPoster||("audio"==l?(!$d||c.displayPosterOnMobile)&&f.poster&&(Ac=!0):"video"==l||"youtube"==l||"vimeo"==l?f.poster&&!c.autoPlayInViewport&&(Ac=!0):"custom"==l&&f.poster&&(Ac=!0));hb=void 0!=f.aspectRatio?Number(f.aspectRatio):Number(c.aspectRatio);f.pwd?(bc.css("display","block"),setTimeout(function(){bc.addClass("mvp-holder-visible")},
20)):"0"!=f.lockTime||ed?Ac?fd():ja():dd("watch");"lightbox"!=c.playerType||Jb||(Jb=!0,Da.css("display","block"),kb(),1!=Da.css("opacity")&&setTimeout(function(){clearTimeout(this);Da.css("opacity",1)},50));if(c.scrollToPlayer&&"lightbox"!=c.playerType){delete c.scrollToPlayer;var a=L.offset().top;k("html,body").animate({scrollTop:a},500)}}function Xf(){Zd=[];var a,b=f.path.length;var d=f.quality;d||(d=f.path[0].quality);f.quality=d;for(a=0;a<b;a++){var e=f.path[a];Zd.push(e.quality);var g;a:for(g in e)if(e[g]==
d){"audio"==l?Dh&&e.wav?K=e.wav:Dh&&"wav"==e.ext?K=e.src:Eh&&e.mp3?K=e.mp3:Eh&&"mp3"==e.ext&&(K=e.src):"video"==l&&(Fh&&e.mp4?K=e.mp4:Fh&&"mp4"==e.ext&&(K=e.src));break a}}-1!=K.indexOf("ebsfm:")&&(K=MVPUtils.b64DecodeUnicode(K.substr(6)))}function fd(){na||(na=k('<div class="mvp-poster-holder"/>').appendTo(Z));"audio"==l?(dc=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",function(){W=k(this);MVPAspectRatio.resizeMedia("image",hb,L,W);W.addClass("mvp-visible");c.displayPosterOnMobile||
(ma?ja():(X.show(),R&&qb.show()))}).on("error",function(b){console.log(b)}).attr({src:f.poster,alt:f.title})):"video"==l||"youtube"==l||"vimeo"==l?(Va.css("display","none").removeClass("mvp-player-controls-visible"),dc=eb=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",function(){W=k(this);MVPAspectRatio.resizeMedia("image",hb,L,W);W.addClass("mvp-visible");P.hide();c.displayPosterOnMobile||(X.show(),R&&qb.show())}).on("error",function(b){console.log(b)}).attr({src:f.poster,
alt:f.title})):"custom"==l&&(Va.css("display","none").removeClass("mvp-player-controls-visible"),dc=eb=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",function(){W=k(this);MVPAspectRatio.resizeMedia("image",hb,L,W);W.addClass("mvp-visible");P.hide();X.show()}).on("error",function(b){console.log(b)}).attr({src:f.poster,alt:f.title}));if(c.showControlsBeforeStart&&(of||Gh(),f.duration&&!R)){ae||(c.createAdMarkers&&bb.length&&lh(f.duration),ae=!0);hc.html(MVPUtils.formatTime(f.duration));
Y(f.playbackRate||1);var a=setInterval(function(){Le&&$c&&Qd&&(clearInterval(a),Va.css("display","block"),Va.one("transitionend",function(){eb=!1}).addClass("mvp-player-controls-visible"),mb&&wb.addClass("mvp-holder-visible"))},100)}}function ja(){if(f.is360){if("undefined"===typeof THREE){var a=document.createElement("script");a.type="text/javascript";var b=MVPUtils.relativePath(c.three_js)?c.three_js:MVPUtils.qualifyURL(c.sourcePath+c.three_js);a.src=b;a.onload=a.onreadystatechange=function(){if(!this.readyState||
"complete"==this.readyState)if("undefined"===typeof THREE.OrbitControls){var m=document.createElement("script");m.type="text/javascript";var h=MVPUtils.relativePath(c.orbitControls_js)?c.orbitControls_js:MVPUtils.qualifyURL(c.sourcePath+c.orbitControls_js);m.src=h;m.onload=m.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ja()};m.onerror=function(){alert("Error loading "+this.src)};h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(m,h)}else ja()};a.onerror=
function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}if("undefined"===typeof THREE.OrbitControls){a=document.createElement("script");a.type="text/javascript";b=MVPUtils.relativePath(c.orbitControls_js)?c.orbitControls_js:MVPUtils.qualifyURL(c.sourcePath+c.orbitControls_js);a.src=b;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ja()};a.onerror=function(){alert("Error loading "+this.src)};
b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}}if("hls"!=oa||Hh){if("dash"==oa){if(!Ih){"undefined"===typeof dashjs?(a=document.createElement("script"),a.type="text/javascript",b=MVPUtils.relativePath(c.dash_js)?c.dash_js:MVPUtils.qualifyURL(c.sourcePath+c.dash_js),a.src=b,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Jh(),ja())},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],
b.parentNode.insertBefore(a,b)):(Jh(),ja());return}}else if("audio"==l&&$d&&!c.displayPosterOnMobile&&"undefined"===typeof MVPAudioEqualizer){be||(be=k('<canvas class="mvp-canvas-audio mvp-media"/>').prependTo(Z));a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(c.sourcePath+c.equalizer_js);a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Cb=new MVPAudioEqualizer({holder:Z,canvas:be[0]}),ja())};a.onerror=function(){alert("Error loading "+
this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}dc&&(ca=f.start||0,dc=!1);ce&&!R&&(ca=ce,ce=null);if(void 0!=c.playbackPositionTime&&!R&&(ca=c.playbackPositionTime,delete c.playbackPositionTime,c.useResumeScreen)){Zf();return}("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType&&ma&&Kh||"vimeo"==l&&"chromeless"==ta&&ma&&Lh)&&P.show();if("audio"==l)Mh||(Jc=k(document.createElement("audio")).attr("preload",c.preload),w=Jc[0],Mh=!0),sg=
!1,w.src=K,Jc.on("ended",function(){ic()}).on("loadedmetadata",function(){}).on("canplay",function(){if(!sg){sg=!0;Pa();f.playbackRate&&(w.playbackRate=Number(f.playbackRate));Y(w.playbackRate);ca?w.currentTime=ca:f.start&&(w.currentTime=f.start);if(ma||null!=ca){var m=w.play();void 0!==m&&m.then(function(){})["catch"](function(h){X.show();P.hide()})}else X.show(),P.hide();R&&qb.show();ca=null;c.autoPlayInViewport&&!Ic&&nf()}}).on("play",function(){pf()}).on("pause",function(){qf()}).on("ratechange",
function(){Y(w.playbackRate)}).on("error",function(m){k(q).trigger("mediaError",{instance:q,instanceName:c.instanceName,media:f})}),ma&&w.load();else if("video"==l){f.posterFrameTime&&(K+="#t="+f.posterFrameTime);rf=!1;Nh?Qb.show():(Qb||(Qb=k('<div class="mvp-video-holder"/>').prependTo(Z)),a=" playsinline",c.useMobileNativePlayer&&(a=""),a='<video class="mvp-media" preload="'+c.preload+'"'+a+">",a+="</video>",Qb.show().html(a));Ia=Qb.find(".mvp-media");r=Ia[0];Rb&&f.is360&&("file:"==window.location.protocol&&
console.log("Playing 360 videos requires online server connection!"),Oh||(jc=new THREE.WebGLRenderer({antialias:!0}),jc.setSize(640,360),jc.domElement.className+="mvp-canvas-video mvp-media",Z.prepend(k(jc.domElement)),Sb=Z.find(".mvp-canvas-video"),pd=new THREE.Texture(r),pd.minFilter=THREE.LinearFilter,pd.magFilter=THREE.LinearFilter,pd.format=THREE.RGBFormat,tg=new THREE.Scene,a=new THREE.SphereGeometry(500,60,40),a.scale(-1,1,1),b=new THREE.MeshBasicMaterial({map:pd}),a=new THREE.Mesh(a,b),tg.add(a),
sf||(sf=!0,qa=new THREE.PerspectiveCamera(90,640/360,.1,1E4),qa.position.x+=.1,rb=new THREE.OrbitControls(qa,Z[0]),rb.enableZoom=!1,rb.enableKeys=!1),Oh=!0));Ia.on("ended",function(){ic()}).on("loadedmetadata",function(){Rb&&f.is360||MVPAspectRatio.resizeMedia("video",hb,L,Ia);Ia.addClass("mvp-visible");setTimeout(function(){rf||Ia.trigger("canplay")},1E3)}).on("canplay",function(){if(!rf){rf=!0;c.selectorInit&&!cb&&(J=nb,cb=!0);Pa();f.playbackRate&&(r.playbackRate=Number(f.playbackRate));Y(r.playbackRate);
ca?r.currentTime=ca:f.start&&(r.currentTime=f.start);if(ma||null!=ca){var m=r.play();void 0!==m&&m.then(function(){})["catch"](function(h){X.show();P.hide()})}else X.show(),P.hide();R&&qb.show();ca=null;c.autoPlayInViewport&&!Ic&&nf();(ph||r.webkitSupportsPresentationMode&&"function"===typeof r.webkitSetPresentationMode)&&qd.show();if($b)if("hls"==oa)if(zc)cd.attachMedia(ea);else if("true"==ea.canPlayType("application/vnd.apple.mpegurl"))ea.src=K;else if(f.mp4)ea.src=f.mp4,ea.load();else try{ea.src=
K,ea.load()}catch(h){console.log("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==oa?tf?Ph?Pd.attachSource(K):(Pd.initialize(ea,K,!0),Ph=!0):f.mp4?(ea.src=f.mp4,ea.load()):console.log("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(ea.src=K,ea.load())}}).on("canplaythrough",function(){Ia.addClass("mvp-visible");"hls"==oa&&MVPAspectRatio.resizeMedia("video",hb,L,Ia)}).on("waiting",function(){P.show()}).on("playing",
function(){P.hide()}).on("play",function(){pf()}).on("pause",function(){qf()}).on("seeking",function(){Db=!1;P.show()}).on("seeked",function(){P.hide();Rb&&f.is360&&(Db=!0,Oa=requestAnimationFrame(ug))}).on("ratechange",function(){Y(r.playbackRate)}).on("error",function(m){switch(m.target.error.code){case m.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");break;case m.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");
break;case m.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case m.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}});if("hls"==oa)if(zc)U.attachMedia(r);else if("true"==r.canPlayType("application/vnd.apple.mpegurl"))r.src=
K;else if(f.mp4)r.src=f.mp4,r.load();else try{r.src=K,r.load()}catch(m){alert("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==oa?tf?Qh?va.attachSource(K):(va.initialize(r,K,ma),Qh=!0):f.mp4?(r.src=f.mp4,r.load()):alert("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(r.src=K,r.load());Nh=!0}else if("image"==l)uf||(uf=k('<div class="mvp-image-holder"/>').prependTo(Z).hide()),f.is360?("file:"==
window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),Rh||(de=new THREE.Scene,a=new THREE.SphereBufferGeometry(500,60,40),a.scale(-1,1,1),vg=new THREE.TextureLoader,wg=new THREE.MeshBasicMaterial({map:vg}),Sh=new THREE.Mesh(a,wg),de.add(Sh),sb=new THREE.WebGLRenderer,sb.setPixelRatio(window.devicePixelRatio),sb.setSize(640,360),sb.domElement.className+="mvp-canvas-image mvp-media",Z.prepend(k(sb.domElement)),ee=Z.find(".mvp-canvas-image"),sf||(sf=
!0,qa=new THREE.PerspectiveCamera(90,640/360,.1,1E4),qa.position.x+=.1,rb=new THREE.OrbitControls(qa,Z[0]),rb.enableZoom=!1,rb.enableKeys=!1),Rh=!0),vg.load(K,function(m){ee.show();ee.addClass("mvp-visible");wg.map=m;m=Z.width();var h=Z.height();sb.setSize(m,h);qa.aspect=m/h;qa.updateProjectionMatrix();rb.addEventListener("change",xg);sb.render(de,qa);fa=S=!0;kc&&(kc.show(),fe=!0);yg=!0;f.duration&&(ge=(new Date).getTime(),Tb=1E3*f.duration,Ub&&clearTimeout(Ub),Ub=setTimeout(function(){clearTimeout(this);
Mb||Nb||ic()},Tb))},function(m){},function(m){})):(P.show(),k(new Image).addClass("mvp-media").prependTo(uf.show()).on("load",function(){P.hide();rd=k(this);MVPAspectRatio.resizeMedia("image",hb,L,rd);rd.addClass("mvp-visible");fa=S=!0;f.duration&&(ge=(new Date).getTime(),Tb=1E3*f.duration,Ub&&clearTimeout(Ub),Ub=setTimeout(function(){clearTimeout(this);Mb||Nb||ic()},Tb))}).on("error",function(m){console.log(m)}).attr({src:K,alt:K})),R?f.duration&&(vf.show(),he=zg.width(),qb.find(".mvp-volume-toggle").hide(),
qb.show(),za&&clearInterval(za),za=setInterval(uc,250)):(Va.css("display","block"),Cc&&clearTimeout(Cc),ig());else if("youtube"==l){if(Th)Ag&&(a=0,ca?a=ca:f.start&&(a=f.start),ma?D.loadVideoById({videoId:K,startSeconds:a,endSeconds:f.end}):D.cueVideoById({videoId:K,startSeconds:a,endSeconds:f.end}));else{var d="ytplayer"+Math.floor(16777215*Math.random());Kc=k('<div class="mvp-youtube-holder"><div id="'+d+'" class="mvp-media mvp-emiframe"></div></div>').css("display","block").prependTo(Z);var e={height:"100%",
width:"100%",playerVars:{controls:"chromeless"==c.youtubePlayerType?0:1,modestbranding:1,playsinline:c.useMobileNativePlayer?0:1,rel:0,wmode:"transparent",iv_load_policy:3,cc_load_policy:0,showinfo:0,disablekb:1,color:c.youtubePlayerColor},videoId:K,events:{onReady:cj,onPlaybackQualityChange:dj,onPlaybackRateChange:ej,onStateChange:fj,onError:gj}};c.youtubeNoCookie&&(e.host="//www.youtube-nocookie.com/");a=window.location.href.split("/");a=a[0]+"//"+a[2];/^http/.test(a)&&(e.playerVars.origin=a);ca?
e.playerVars.start=ca:f.start&&(e.playerVars.start=parseInt(f.start,10));f.end&&(e.playerVars.end=parseInt(f.end,10));window.YT||(b=document.createElement("script"),b.src=c.youtube_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a));var g=setInterval(function(){window.YT&&window.YT.Player&&(g&&clearInterval(g),D=new YT.Player(d,e))},100);Th=!0}Kc.show()}else"vimeo"==l?(ta="chromeless"==c.vimeoPlayerType?f.userAccount?"basic"==f.userAccount?"default":"chromeless":"chromeless":
"default","default"==ta?Uh?(Eb=ie,Lc=je,y=Vh,Wh&&(Eb.show(),y.loadVideo(K),setTimeout(function(){clearTimeout(this);wf()},500))):(ie||(ie=k('<div class="mvp-vimeo-holder-default"/>').prependTo(Z)),je=Xh("0"),ie.show().append(je),Eb=ie,Lc=je,window.Vimeo||(b=document.createElement("script"),b.src=c.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)),g=setInterval(function(){window.Vimeo&&(g&&clearInterval(g),y=Vh=new Vimeo.Player(je[0]),y.on("loaded",wf),y.on("play",
Bg),y.on("pause",Yh),y.on("ended",Zh),y.on("error",$h),Wh=!0)},100),Uh=!0):ai?(Eb=ke,Lc=le,y=bi,ci&&(Eb.show(),y.loadVideo(K),setTimeout(function(){clearTimeout(this);wf()},500))):(ke||(ke=k('<div class="mvp-vimeo-holder-chromeless"/>').prependTo(Z)),le=Xh("1"),ke.show().append(le),Eb=ke,Lc=le,window.Vimeo||(b=document.createElement("script"),b.src=c.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)),g=setInterval(function(){window.Vimeo&&(g&&clearInterval(g),y=
bi=new Vimeo.Player(le[0]),y.on("loaded",wf),y.on("play",Bg),y.on("pause",Yh),y.on("ended",Zh),y.on("error",$h),y.on("seeking",hj),y.on("seeked",ij),"chromeless"==ta&&(y.on("playbackratechange",jj),y.on("timeupdate",kj)),ci=!0)},100),ai=!0)):"custom"==l&&(P.show(),me||(me=k('<div class="mvp-custom-holder mvp-media"/>').prependTo(Z)),me.show().load(K,function(m,h,t){"error"==h?console.log(t.status+" "+t.statusText):"success"==h&&(me.addClass("mvp-visible"),P.hide(),S=!0)}),Va.css("display","none").removeClass("mvp-player-controls-visible"),
eb=!0);of||Cg||Gh()}else"undefined"===typeof Hls?(a=document.createElement("script"),a.type="text/javascript",b=MVPUtils.relativePath(c.hls_js)?c.hls_js:MVPUtils.qualifyURL(c.sourcePath+c.hls_js),a.src=b,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(di(),ja())},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)):(di(),ja())}function Gh(){if(R)k(q).trigger("adRequest",{instance:q,
instanceName:c.instanceName,media:f});else{Cg=!0;if(Mc){var a=0;Mc.find(".mvp-annotation").each(function(){var e=k(this).clone().attr("data-id",a).appendTo(Vb);if(e.hasClass("mvp-adsense-detail")){var g='<ins class="adsbygoogle" style="display:inline-block;';void 0!=e.attr("data-width")&&void 0!=e.attr("data-height")&&(g+="width:"+e.attr("data-width")+"px;height:"+e.attr("data-height")+"px;");ans+='"';ans+=' data-ad-client="'+e.attr("data-ad-client")+'" data-ad-slot="'+e.attr("data-ad-slot")+'"></ins>';
k(g).prependTo(e);xf=!0}else e.hasClass("mvp-adsense-code")&&(xf=!0);lc.push({id:a,start:isNaN(parseInt(e.attr("data-show"),10))?0:parseInt(e.attr("data-show"),10),end:isNaN(parseInt(e.attr("data-hide"),10))?1E5:parseInt(e.attr("data-hide"),10),item:e});a++});Vb.show();if(xf)if("undefined"===typeof adsbygoogle){if("file:"!=window.location.protocol){var b=document.createElement("script");b.type="text/javascript";var d=MVPUtils.relativePath(c.adsbygoogle_js)?c.adsbygoogle_js:MVPUtils.qualifyURL(c.sourcePath+
c.adsbygoogle_js);b.src=d;b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||Vb.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})};b.onerror=function(){alert("Error loading "+this.src)};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}}else Vb.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})}if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||
"vimeo"==l&&"chromeless"==ta)f.subtitles?(Le=!1,Sc()):Le=!0,f.chapters?($c=!1,Mi(),ab.addClass("mvp-seekbar-chapters"),ad.css("display","block")):$c=!0,!Ba&&f.previewSeek?"auto"==f.previewSeek&&"video"==l?($b=Qd=!0,ei||(Ni(),ei=!0)):(Qd=!1,Oi()):(Qd=!0,$b=!1);c.upNextTime&&!yf&&(b=M.getNextCounter(1),"undefined"!==typeof b&&(b=ka[b].data,b.thumb||b.title))&&(b.thumb?zf.css({"background-image":"url("+encodeURI(b.thumb)+")",display:"block"}):zf.css("display","none"),b.title&&Dg.html(b.title),b.duration&&
fi.html(MVPUtils.formatTime(b.duration)),Za.addClass("mvp-upnext-on"));f.title&&(gi.html(f.title),sd.show(),c.showVideoTitle&&hi.html(f.title).addClass("mvp-visible"));f.description&&(ii.html(f.description),sd.show());lj&&f.download&&(c.restrictDownloadForLoggedInUser&&!c.isUserLoggedIn||!Eg?td.show():td.show().find("a").attr({href:f.download,download:""}))}"audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==ta?(f.liveStream?(Nc.hide(),ud.hide(),hc.hide(),
ab.hide(),ji.show()):(Nc.show(),ud.show(),hc.show(),ab.show()),ib.show(),ne.show(),Af.show(),oe.show(),pe.show(),qe.show()):(ib.hide(),ne.hide(),Nc.hide(),ud.hide(),hc.hide(),ab.hide(),Af.hide(),oe.hide(),pe.hide(),qe.hide())}function cj(a){Ag=!0;Oc||(Oc=Kc.find(".mvp-emiframe"),"chromeless"==c.youtubePlayerType&&c.forceYoutubeChromeless&&Oc.addClass("mvp-yt-clean"));Oc.addClass("mvp-visible");c.selectorInit&&!cb&&(J=nb,cb=!0);Pa();ma?D.playVideo():(null!=ca&&f.poster&&D.playVideo(),Oc.addClass("mvp-visible"));
R&&"chromeless"==c.youtubePlayerType&&qb.show();c.autoPlayInViewport&&!Ic&&nf()}function dj(a){v(a.data)}function ej(a){Y(a.data)}function fj(a){Kc.is(":visible")&&(-1==a.data?R&&"chromeless"==c.youtubePlayerType&&qb.show():0==a.data?ic():1==a.data?(Fg||(ca=null,f.playbackRate&&1!=f.playbackRate?D.setPlaybackRate(Number(f.playbackRate)):"chromeless"==c.youtubePlayerType&&Y(1),c.blockYoutubeEvents&&(Bf||(Bf=k('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(Kc))),Fg=!0),Bf&&
!f.is360&&Bf.css("display","block"),pf(),Kh=!0):2==a.data?qf():3==a.data?Oc.addClass("mvp-visible"):5==a.data&&(ma||Oc.addClass("mvp-visible")))}function gj(a){switch(a.data){case 2:console.log("Error code = "+a.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 100:console.log("Error code = "+a.data+
": Video not found, removed, or marked as private");break;case 101:console.log("Error code = "+a.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+a.data+": Video not found, removed, or marked as private [same as error 100]")}}function Xh(a){var b=MVPUtils.rgbToHex(c.vimeoPlayerColor);"#"==b.charAt(0)&&(b=b.substr(1));var d="1";c.useMobileNativePlayer&&(d="0");var e=ma?"1":"0",g="loop"==c.mediaEndAction?"1":"0",m="player"+Math.floor(16777215*Math.random());b="?color="+
b;g="&loop="+g;d="&playsinline="+d;e="&autoplay="+e;a="&background="+a;ma&&(e=c.autoPlayInViewport?"&autoplay=0":!0);-1<K.indexOf("/")&&(K=K.substr(0,K.indexOf("/")));b="https://player.vimeo.com/video/"+K+b+"&byline=1&portrait=1&title=1&autopause=1"+d+g+"&dnt=1"+a+"&speed=1&muted=0"+e;c.vimeoNoCookie&&(b+="&dnt=1");f.quality&&(b+="&quality="+f.quality);return k("<iframe/>",{id:m,frameborder:0,src:b,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).addClass("mvp-media mvp-emiframe")}
function Bg(){if(!Gg){Lc.addClass("mvp-visible");if(f.start||ca){if(ca)var a=ca;else f.start&&(a=f.start);ca=null;y.setCurrentTime(a).then(function(b){})["catch"](function(b){console.log(b.name)})}f.playbackRate&&1!=f.playbackRate&&y.setPlaybackRate(f.playbackRate).then(function(b){})["catch"](function(b){});Gg=!0}pf();Lh=!0}function Yh(){l&&"vimeo"!=l||qf()}function jj(a){Y(a.playbackRate)}function wf(){c.selectorInit&&!cb&&(J=nb,cb=!0);Pa();c.blockVimeoEvents="default"==ta?!1:!0;c.blockVimeoEvents&&
(Cf||(Cf=k('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(Eb)),f.is360?Cf.css("display","none"):Cf.css("display","block"));ma||null!=ca?y.play().then(function(){Bg()})["catch"](function(a){"chromeless"==ta&&(X.show(),P.hide());Lc.addClass("mvp-visible")}):("chromeless"==ta&&(X.show(),P.hide()),Lc.addClass("mvp-visible"));R&&"chromeless"==ta&&qb.show();c.autoPlayInViewport&&!Ic&&nf()}function kj(a){Hb=a.duration;vd=a.seconds;Df=a.percent}function Zh(){ic()}function hj(){P.show()}
function ij(){P.hide()}function $h(a){console.log("Vimeo Player Error!",a)}function xg(){"image"==l&&f.is360&&sb.render(de,qa);fe&&(fe=!1,setTimeout(function(){clearTimeout(this);kc.hide()},2E3))}function di(){U=new Hls;zc=Hls.isSupported();Hh=!0;zc&&(U.subtitleDisplay=!1,U.subtitleTrack=-1,U.on(Hls.Events.MEDIA_ATTACHED,function(){U.loadSource(K)}),U.on(Hls.Events.MANIFEST_PARSED,function(a,b){if(c.showStreamVideoBitrateMenu){var d=[],e,g=b.levels.length;for(e=0;e<g;e++){var m=b.levels[e];m.width&&
d.push({label:m.width+"x"+m.height+", "+Math.ceil(Math.round(m.bitrate/1E3))+"kbps",value:e.toString()})}d.push({label:"auto",value:"-1",selected:!0});c.hideQualityMenuOnSingleQuality&&1==d.length||$a(d,"-1")}}),U.on(Hls.Events.MANIFEST_LOADED,function(a,b){}),U.on(Hls.Events.LEVEL_LOADED,function(a,b){}),U.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(a,b){if(c.showStreamAudioBitrateMenu){var d=U.audioTracks,e=d.length;if(1<e){var g;for(g=0;g<e;g++){var m=d[g];var h=m.groupId+" - "+m.name;m=m.id.toString();
k("<li/>").addClass("mvp-menu-item").attr({"data-value":m,"data-label":h}).text(h).on("click",Ea).appendTo(Ef)}Ff=!0;ki.show();Hg.removeClass("mvp-force-hide")}}}),U.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(a,b){if(Ff){var d=b.id;Gf&&Gf.removeClass("mvp-menu-active");Gf=Ef.find(".mvp-menu-item[data-value='"+d+"']").addClass("mvp-menu-active");V.find(".mvp-audio-language-menu-value").text(Gf.text())}}),U.on(Hls.Events.AUDIO_TRACK_LOADED,function(a,b){}),U.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(a,
b){}),U.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(a,b){}),U.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(a){a=U.subtitleTracks.length;if(0<a&&!f.subtitles){var b;f.subtitles=[];for(b=0;b<a;b++){var d=U.subtitleTracks[b];var e=b.toString();e={label:d.name,value:e,src:d.url};d["default"]&&(e["default"]=!0);f.subtitles.push(e)}Sc()}}),U.on(Hls.Events.ERROR,function(a,b){if(b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");U.startLoad();
break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");U.recoverMediaError();break;default:U.destroy()}}))}function Jh(){va=dashjs.MediaPlayer().create();Ih=!0;va.setFastSwitchEnabled=!0;va.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(a){if(c.showStreamVideoBitrateMenu){var b=va.getBitrateInfoListFor("video"),d=[],e=b.length;for(a=0;a<e;a++){var g=b[a];g.width&&d.push({label:g.width+"x"+g.height+", "+Math.ceil(Math.round(g.bitrate/1E3))+"kbps",
value:g.qualityIndex.toString()})}d.push({label:"auto",value:"-1",selected:!0});c.hideQualityMenuOnSingleQuality&&1==d.length||$a(d,"-1")}if(c.showStreamAudioBitrateMenu&&(b=va.getBitrateInfoListFor("audio"),e=b.length,1<e)){for(a=0;a<e;a++)g=b[a],d=Math.ceil(Math.round(g.bitrate/1E3))+"kbps",g=g.qualityIndex.toString(),k("<li/>").addClass("mvp-menu-item").attr({"data-value":g,"data-label":d}).text(d).on("click",Ea).appendTo(Ef);Ff=!0;ki.show();Hg.removeClass("mvp-force-hide")}});va.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,
function(a){});va.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(a){});va.on(dashjs.MediaPlayer.events.TRACK_CHANGE_RENDERED,function(a){});va.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,function(a){});va.on(dashjs.MediaPlayer.events.ERROR,function(a){console.log("dashjs.MediaPlayer.events.ERROR "+a.error+" : "+a.event.message)});va.on(dashjs.MediaPlayer.events.PLAYBACK_ERROR,function(a){})}function mc(){Db=!1;Oa&&cancelAnimationFrame(Oa);za&&clearInterval(za);Sa.off(rg);Z.find(".mvp-media").removeClass("mvp-visible");
kc&&(kc.hide(),fe=!1);rb&&(rb.removeEventListener("change",xg),rb.reset());Hf&&li();if("audio"==l)w&&(w.pause(),w.src=""),Jc&&Jc.off("ended pause play canplay ratechange loadedmetadata error"),$d&&Cb&&Cb.clean();else if("video"==l){zc&&"hls"==oa&&U&&U.detachMedia();tf&&"dash"==oa&&va&&va.attachSource(null);Rb&&f.is360&&Sb&&Sb.hide();if(r){r.pause();try{r.currentTime=0}catch(a){}r.src="";r=null}Ia&&Ia.off("ended loadedmetadata ratechange canplay canplaythrough waiting playing play pause error seeked");
Qb&&Qb.hide()}else"image"==l?(Ub&&(clearTimeout(Ub),Ub=null),f.is360?(ee&&ee.hide(),yg=!1):(uf.hide().find(".mvp-media").remove(),rd=null),Tb=ge=null):"youtube"==l?D&&(Kc.hide(),Ag&&D.stopVideo(),Fg=!1):"vimeo"==l?(Df=vd=Hb=0,y&&y.unload().then(function(){})["catch"](function(a){console.log(a)}),Gg=!1,Eb&&Eb.hide()):"custom"==l&&me.empty().hide();W&&(na.hide().empty(),W=null);R&&(R=!1,re.removeClass("mvp-ad-skip-btn-visible"),vf.hide(),mi.hide(),qb.hide(),qb.find(".mvp-volume-toggle").show(),Ig.html(ni),
Jg=!1);Vb.hide().empty();lc=[];xf=!1;td.hide().find("a").attr("href","#").removeAttr("download");ji.hide();qd.hide();ad.css("display","none");Ld.hide();wb.css("display","none").removeClass("mvp-holder-visible");Jd.html("");mb=!1;V.removeClass("mvp-holder-visible").css({display:"none",width:"auto",height:"auto"});V.find(".mvp-settings-menu").css("display","none");wc.css("display","block");Nc.html("00:00").hide();ud.hide();hc.html("00:00").hide();Ib=null;oi.hide();Ka.empty();Zc=!1;lb=[];Me=[];Fb=pa=
null;Hd.empty();ih.addClass("mvp-force-hide");yc.hide();Je.empty();hh.addClass("mvp-force-hide");Ef.empty();Hg.addClass("mvp-force-hide");Ff=!1;pa&&Ka.removeClass("mvp-subtitle-visible");ba.hide();Lb=null;Kb=[];vb.hide();Wf.css("background-image","none");$b&&(Pe=$b=!1,zc&&"hls"==oa&&cd&&cd.detachMedia(),tf&&"dash"==oa&&Pd&&Pd.attachSource(null),ea&&(ea.pause(),ea.src=""),bd&&bd.clearRect(0,0,Nd,Od));Ab=!1;hi.html("").removeClass("mvp-visible");Rd.css("display","none").removeClass("mvp-holder-visible");
gi.html("");ii.html("");sd.hide();Mb=!1;Sd.css("display","none").removeClass("mvp-holder-visible");Nb=!1;rh.css("display","none").removeClass("mvp-holder-visible");sh.css("display","none").removeClass("mvp-holder-visible");Se=!1;Pc.css("display","none").removeClass("mvp-holder-visible");se=!1;X.hide();ib.find(".mvp-btn-play").show();ib.find(".mvp-btn-pause").hide();Za.removeClass("mvp-upnext-on mvp-upnext-visible");zf.css("background-image","none");Dg.html("");fi.html("");Ga.removeClass("mvp-upnext-wrap2-visible");
fg.css("background-image","none");gg.html("");hg.html("");bc.hide().removeClass("mvp-holder-visible");Qe.val("");nc&&nc.hide();f=oa=l=ca=null;Kg=Lg=dc=S=fa=!1;pi.width(0);qi.width(0);ri.width(0);Fd.width(0);ma||(Va.css("display","none").removeClass("mvp-player-controls-visible"),eb=!0)}function Mg(){x&&l&&(wa&&eg(),mc(),M.reSetCounter(),Va.removeClass("mvp-player-controls-visible"),"fullscreen"==ua&&(document.body.style.cursor="none"),eb=!0)}function Ue(){l&&mc();N.empty();Q=0;M.reSetCounter();pg=
!1;hd="";Dc=null;ob&&ob.setScrollActive();La=!1;$e=Ze=Ye=bf=af=Xe=We=Ve=G=null;Pb=fb=!1;ka=[];la=[];Ca=[];te=ue=hf=mf=lf=kf=jf=gf=ff=fc=ld=ec=null;md=[]}function Gb(){x&&0!=Q&&(f&&Bc(),M.advanceHandler(1,!0))}function Bc(){if(S&&(c.useStatistics&&void 0!=yb&&Ng("mvp_play_count",yb),c.displayWatchedPercentage&&f&&void 0!=f.mediaId&&!f.watchedComplete)){var a=q.getCurrentTime(),b=q.getDuration(),d=[{name:"action",value:"mvp_set_watched_percentage"},{name:"playlist_id",value:Bb},{name:"media_id",value:f.mediaId},
{name:"title",value:f.safeTitle||""},{name:"watched",value:a},{name:"duration",value:b}];a+.1>=b&&(ka[yb].data.watchedComplete=!0);k.ajax({url:c.ajax_url,type:"post",data:d,dataType:"json"}).done(function(e){if(e){var g=N.find('.mvp-playlist-item[data-media-id="'+e.media_id+'"][data-safe-title="'+e.title+'"]');g.length&&(e=e.watched/e.duration*100,100<e&&(e=100),g.find(".mvp-media-watched-progress").width(e+"%"),g.find(".mvp-media-watched-bg").removeClass("mvp-hidden"))}}).fail(function(e,g,m){console.log("Error mvp_set_watched_percentage: "+
e.responseText,g,m)})}}function bj(){var a,b=[];for(a=0;a<Q;a++){var d=ka[a].data;d.watchedSet||void 0==d.mediaId||(b.push({media_id:d.mediaId,title:d.safeTitle||""}),d.watchedSet=!0)}b.length&&(a=[{name:"action",value:"mvp_get_watched_percentage"},{name:"data",value:JSON.stringify(b)}],k.ajax({url:c.ajax_url,type:"post",data:a,dataType:"json"}).done(function(e){if(e){var g,m=e.length;for(g=0;g<m;g++){var h=e[g];var t=N.find('.mvp-playlist-item[data-media-id="'+h.media_id+'"][data-safe-title="'+h.title+
'"]');if(t.length){var z=h.watched/h.duration*100;100<z&&(z=100);h.watched+.1>=h.duration&&t.attr("data-watched-complete","1");t.find(".mvp-media-watched-progress").width(z+"%");t.find(".mvp-media-watched-bg").removeClass("mvp-hidden")}}}}).fail(function(e,g,m){console.log("Error mvp_get_watched_percentage: "+e.responseText,g,m)}))}function De(){x&&0!=Q&&(f&&Bc(),M.advanceHandler(-1,!0))}function pf(){P.hide();X.hide();ib.find(".mvp-btn-play").hide();ib.find(".mvp-btn-pause").show();c.showPosterOnPause&&
W&&W.one("transitionend",function(){fa&&na.hide()}).removeClass("mvp-visible");if(!S){c.autoPlayAfterFirst&&(ma=!0);if(!si&&(si=!0,Yc&&Yc.length&&0==J))Yc.addClass("mvp-unmute-toggle-visible").one("click touchend",function(e){da();return!1});if(wa&&wa.find(".mvp-playlist-duration.mvp-hidden").length){var a=q.getDuration();MVPUtils.isNumber(a)&&wa.find(".mvp-playlist-duration.mvp-hidden").html(MVPUtils.formatTime(a)).removeClass("mvp-hidden")}c.minimizeOnScroll&&c.minimizeOnScrollOnlyIfPlaying&&Tc();
if("audio"==l&&$d)if("file:"==window.location.protocol)console.log("Using Audio Equalizer requires server connection!");else if("undefined"===typeof Cb)var b=setInterval(function(){Cb&&(b&&clearInterval(b),Cb.init(w),be.addClass("mvp-visible"))},100);else Cb.init(w),be.addClass("mvp-visible");else if(Rb&&f.is360){Qb.hide();Sb.show();kc&&(kc.show(),fe=!0);rb.addEventListener("change",xg);a=Z.width();var d=Z.height();jc.setSize(a,d);qa.aspect=a/d;qa.updateProjectionMatrix();Sb.addClass("mvp-visible");
Db=!0;Oa&&cancelAnimationFrame(Oa);Oa=requestAnimationFrame(ug)}a=R?"adStart":"mediaStart";k(q).trigger(a,{instance:q,instanceName:c.instanceName,media:f});S=!0;R?(Va.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",eb=!0,vf.show()):(vf.hide(),"youtube"==l&&"default"==c.youtubePlayerType||"vimeo"==l&&"default"==ta||"custom"==l?(Va.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",eb=!0):Va.css("display",
"block"))}if(c.togglePlaybackOnMultipleInstances&&1<mvp_mediaArr.length)for(d=mvp_mediaArr.length,a=0;a<d;a++)q!=mvp_mediaArr[a].inst&&mvp_mediaArr[a].inst.pauseMedia();if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==ta)za&&clearInterval(za),za=setInterval(uc,250);R?k(q).trigger("adPlay",{instance:q,instanceName:c.instanceName,media:f}):k(q).trigger("mediaPlay",{instance:q,instanceName:c.instanceName,media:f});fa=!0;Cc&&clearTimeout(Cc);ig()}function qf(){za&&
clearInterval(za);P.hide();ib.find(".mvp-btn-play").show();ib.find(".mvp-btn-pause").hide();c.showPosterOnPause&&W&&(na.show(),setTimeout(function(){W.addClass("mvp-visible")},20));S?("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==ta)&&X.show():"audio"!=l&&"video"!=l||X.show();var a=R?"adPause":"mediaPause";k(q).trigger(a,{instance:q,instanceName:c.instanceName,media:f});if(R&&f.link)if(f.target&&"_blank"==f.target)window.open(f.link);else{a=f.link;
Mg();window.location=a;return}fa=!1}function ug(){Db&&(Ia.readyState===Ia.HAVE_ENOUGH_DATA&&(pd.needsUpdate=!0),jc.render(tg,qa),Oa=requestAnimationFrame(ug))}function uc(a){if("undefined"!==typeof a||fa){var b;if("audio"==l){if(w){var d=w.currentTime,e=w.duration;if("undefined"!==typeof w.buffered&&0!=w.buffered.length){try{var g=w.buffered.end(w.buffered.length-1)}catch(aa){}isNaN(g)||(b=g/Math.floor(w.duration))}}}else if("video"==l){if(r&&(d=r.currentTime,e=r.duration,"undefined"!==typeof r.buffered&&
0!=r.buffered.length)){try{g=r.buffered.end(r.buffered.length-1)}catch(aa){}isNaN(g)||(b=g/Math.floor(r.duration))}}else"youtube"==l?D&&(d=D.getCurrentTime(),e=D.getDuration(),b=D.getVideoLoadedFraction()):"vimeo"==l?(d=vd,e=Hb,b=Df):"image"==l&&(b=1E3*f.duration,d=(new Date).getTime()-ge,Tb-=d,0>Tb&&(Tb=0),ge=(new Date).getTime(),d=(b-Tb)/1E3,e=f.duration,b=1);if(MVPUtils.isNumber(d)&&MVPUtils.isNumber(e)){a=d;0<e&&!R&&(Ua.length&&$c&&!Kd&&("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||
"vimeo"==l&&"chromeless"==ta)&&(kh(e),Kd=!0),ae||(c.createAdMarkers&&bb.length&&lh(e),ae=!0));if(R){Lg||(he=zg.width(),Lg=!0);if(a!=Ib&&(mj.html("&nbsp;(-"+MVPUtils.formatTime(e-a)+")"),0<a)){if(!Jg&&(Jg=!0,ve=!1,we=null,"undefined"!==typeof f.skipEnable)){we=f.skipEnable;if(If){if(g=M.getNextCounter(1),"undefined"!==typeof g&&(g=ka[g].data,g.thumb))var m=g.thumb}else wd.thumb&&(m=wd.thumb);m&&k('<img src="'+m+'" alt="next"/>').appendTo(ti.empty().show());ui.show();re.addClass("mvp-ad-skip-btn-visible")}null==
we||ve||(a<we?Ig.html(ni+"&nbsp;"+(we-parseInt(a,10)).toString()):(ve=!0,ti.hide(),ui.hide(),mi.show()))}b&&pi.width(b*he);qi.width(d/e*he)}else{Kg||(Fa=Ra.width(),Kg=!0);if(a!=Ib){if((f.end||f.lockTime&&!ed)&&d>=(f.end||f.lockTime)){f.lockTime?(za&&clearInterval(za),Db=!1,Oa&&cancelAnimationFrame(Oa),dd("watch")):("loop"!=c.mediaEndAction&&"rewind"!=c.mediaEndAction&&(za&&clearInterval(za),Db=!1,Oa&&cancelAnimationFrame(Oa)),ic());return}if(bb.length)for(g=bb.length,m=0;m<g;m++){var h=bb[m];if(a>=
h.begin&&a<h.begin+1){if(!h.played){za&&clearInterval(za);Db=!1;Oa&&cancelAnimationFrame(Oa);h.played=!0;ce=h.begin;c.playAdsOnlyOnce&&(bb[m].marker.remove(),bb.splice(m,1));mc();f=h.data.type?h.data:Jf(h.data);R=!0;Yd();return}}else a>h.begin+1&&(h.played=!1)}if(lc.length)for(g=lc.length,m=0;m<g;m++){h=lc[m];var t=h.start;var z=h.end;h=h.item;a>=t&&a<=z-1?h.mvpvisible||(h.hasClass("mvp-annotation-iframe")?(t=h.find("iframe"),t.attr("src",t.attr("data-src"))):h.hasClass("mvp-annotation-shortcode")&&
!h.hasClass("mvp-annotation-shortcode-ready")&&"file:"!=window.location.protocol&&(t=h.addClass("mvp-annotation-shortcode-ready mvp-hidden").find(".mvp-annotation-shortcode-content").html(),nj(h,t)),h.css("display","block"),h.mvpvisible=!0):h.mvpvisible&&(h.css("display","none"),h.hasClass("mvp-annotation-iframe")?h.find("iframe").attr("src","about:blank"):h.hasClass("mvp-annotation-shortcode"),h.mvpvisible=!1)}if(Zc&&lb.length)for(g=lb.length,m=0;m<g;m++)h=lb[m],t=h.start,z=h.end,a>=t&&a<=z?pa||
(pa=k('<div class="mvp-subtitle">'+h.text+"</div>"),Va.hasClass("mvp-player-controls-visible")&&Ka.addClass("mvp-subtitle-visible"),pa.start=t,pa.end=z,Ka.append(pa)):pa&&(a<pa.start||a>pa.end)&&(pa.remove(),pa=null);if(Kd)for(g=Ua.length,m=0;m<g;m++)h=Ua[m],t=h.start,z=h.end,a>=t&&a<=z?xb||Yf(m):xb&&(a<xb.start||a>xb.end)&&(xb=null);0<e&&(yf||Za.hasClass("mvp-upnext-on")&&(a>e-c.upNextTime?Za.addClass("mvp-upnext-visible"):Za.removeClass("mvp-upnext-visible")));Nc.html(MVPUtils.formatTime(a));hc.html(MVPUtils.formatTime(e))}b&&
1!=b&&ri.width(b*Fa);Fd.width(d/e*Fa)}if(c.caption_breakPointArr&&!vi&&pa){b=Ka.width();g=c.caption_breakPointArr.length;for(m=0;m<g;m++)if(d=c.caption_breakPointArr[m],b>d.width)var ha=d.size;Ka.css("fontSize",ha+"px");vi=!0}Ib=a}}}function Ng(a,b){if("file:"!=window.location.protocol&&ka[b]){var d=ka[b].data;if(void 0!=d.mediaId){if(void 0==Bb)if(void 0!=d.playlistId)Bb=d.playlistId;else return;if("mvp_play_count"==a)var e=[{name:"action",value:a},{name:"playlist_id",value:Bb},{name:"media_id",
value:d.mediaId},{name:"title",value:d.safeTitle||""},{name:"currentTime",value:q.getCurrentTime()},{name:"duration",value:q.getDuration()}];else if("mvp_download_count"==a||"mvp_finish_count"==a)e=[{name:"action",value:a},{name:"playlist_id",value:Bb},{name:"media_id",value:d.mediaId},{name:"title",value:d.safeTitle||""}];k.ajax({url:c.ajax_url,type:"post",data:e,dataType:"json"}).done(function(g){}).fail(function(g,m,h){console.log("Error getStats: "+g.responseText,m,h)})}}}function nj(a,b){var d=
[{name:"action",value:"mvp_annotation_shortcode"},{name:"shortcode",value:JSON.stringify(b)},{name:"annotation_id",value:a.attr("data-id")}];k.ajax({url:c.ajax_url,type:"post",data:d,dataType:"json"}).done(function(e){var g=Vb.find(".mvp-annotation[data-id="+e.annotation_id+"]");g.length&&(g.find(".mvp-annotation-shortcode-content").html(e.output),g.removeClass("mvp-hidden"))}).fail(function(e,g,m){console.log("Error doAnnotationShortcode: "+e.responseText,g,m)})}function ic(){R?k(q).trigger("adEnd",
{instance:q,instanceName:c.instanceName,media:f}):(c.useStatistics&&Ng("mvp_finish_count",yb),"next"!=c.mediaEndAction&&"comingnext"!=c.mediaEndAction&&Bc());if("undefined"!==typeof f.endLink)if("_blank"==f.endTarget)window.open(f.endLink);else{var a=f.endLink;Mg();window.location=a;return}if(R&&!If)mc(),jb.length&&Aa<jb.length-1?(Aa++,f=jb[Aa].type?jb[Aa].data:Jf(jb[Aa]),R=!0):(jb=[],Aa=-1,f=wd),Yd();else if(Wb.length&&Aa<Wb.length-1)mc(),Aa++,f=Wb[Aa].type?Wb[Aa].data:Jf(Wb[Aa]),R=If=!0,Yd();else if(k(q).trigger("mediaEnd",
{instance:q,instanceName:c.instanceName,media:f}),a=f.start||0,"next"==c.mediaEndAction)Gb();else if("rel"==c.mediaEndAction)if("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)),jg.find(".mvp-rel-playlist").length)if("undefined"===typeof MVPRelPagination){a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(c.sourcePath+c.rel_js);a.onload=a.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||(xd||(xd=new MVPRelPagination({parent:q,wrapper:Pc,settings:c})),q.toggleRel())};a.onerror=function(){alert("Error loading "+this.src)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}else xd||(xd=new MVPRelPagination({wrapper:Pc,settings:c})),q.toggleRel();else console.log("No related playlists found!");else"comingnext"==c.mediaEndAction?("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=
a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)),a=M.getNextCounter(1),"undefined"!==typeof a&&(a=ka[a].data,oj(a))):"loop"==c.mediaEndAction?"audio"==l?w&&(w.currentTime=a,w.play()):"video"==l?r&&(r.currentTime=a,r.play()):"youtube"==l?D&&(D.seekTo(a),D.playVideo()):"vimeo"==l&&y&&y.setCurrentTime(a):"rewind"==c.mediaEndAction?"audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):
"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)):"poster"==c.mediaEndAction&&("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?(r&&(r.currentTime=a,r.pause()),f.poster&&(S=!1,Rb&&f.is360?Sb&&Sb.hide():Qb.hide(),fd())):"youtube"==l?(D&&(D.seekTo(a),D.pauseVideo()),f.poster&&(S=!1,Kc.hide(),fd())):"vimeo"==l&&(y&&(y.pause(),y.setCurrentTime(a)),f.poster&&(S=!1,Eb.hide(),fd())))}function oj(a){if(a.poster||a.thumb){var b=a.poster||a.thumb;k(new Image).addClass("mvp-media").appendTo(wi.empty()).on("load",
function(){yd=k(this);MVPAspectRatio.resizeMedia("image",hb,L,yd);yd.addClass("mvp-visible")}).on("error",function(d){console.log(d)}).attr({src:b,alt:f.title})}b=a.title;a.duration&&(b+=' <span class="mvp-comingnext-duration">('+MVPUtils.formatTime(a.duration)+")</span>");xi.html(b);Kf.css("display","block");setTimeout(function(){Kf.addClass("mvp-holder-visible");Hf=!0;var d=1;Og.css("stroke-dashoffset",169-169/c.comingnextTime);Qc=setInterval(function(){Qc&&(d==c.comingnextTime?(clearInterval(Qc),
Qc=null,Gb()):(Og.css("stroke-dashoffset",169-169/c.comingnextTime*(d+1)),d++))},1E3)},20)}function li(){Qc&&(clearInterval(Qc),Qc=null);Hf&&Kf.one("transitionend",function(){Kf.css("display","none");Hf=!1;wi.empty();yd=null;xi.html("");Og.css("stroke-dashoffset","169")}).removeClass("mvp-holder-visible")}function kb(){if(!x||!c.addResizeEvent)return!1;if(c.createPlayer){var a=MVPUtils.getViewportSize(Ba);"normal"==ua&&xe&&"wall"!=F&&(a.h-=xe);var b=ia.hasClass(c.minimizeClass)?ia:n;if("vlb"==F||
"vrb"==F)if(b.width()>c.verticalBottomSepearator){T.removeClass("mvp-playlist-holder-bottom").width(c.playlistSideWidth);var d=c.playlistOpened?b.width()-T.width():b.width();L.width(d);if("fullscreen"==ua)d=b.height();else{var e=b.width();d=c.combinePlayerRatio?d/c.playerRatio:e/c.playerRatio}d>a.h&&(d=a.h);L.height(d);T.height(d);b.height(d)}else T.addClass("mvp-playlist-holder-bottom"),e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),L.css({height:d,width:e}),T.css({height:c.playlistBottomHeight,width:"100%"}),
c.playlistOpened?b.height(d+T.height()):b.height(d),"fullscreen"==ua&&(c.playlistOpened?L.height(b.height()-T.height()):L.height(b.height()));else"vb"==F?(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),L.height(d),c.playlistOpened?b.height(d+T.height()):b.height(d),"fullscreen"==ua&&(c.playlistOpened?L.height(b.height()-T.height()):L.height(b.height()))):"ht"==F||"hb"==F?(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),500<d&&a.h<=d?(b.height(d),c.playlistOpened?L.height(d-T.height()):L.height(d)):(L.height(d),
c.playlistOpened?b.height(d+T.height()):b.height(d),"fullscreen"==ua&&(c.playlistOpened?L.height(b.height()-T.height()):L.height(b.height())))):"wall"==F?"normal"==ua&&Jb&&(e=Yb.width(),d=e/c.playerRatio,d>a.h?(d=a.h,d-=xe,rc.removeClass("mvp-lightbox-center")):rc.addClass("mvp-lightbox-center"),console.log(d),Yb.height(d)):"outer"==F?"fullscreen"==ua?L.height(b.height()):(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),L.height(d)):"no-playlist"==F&&(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),b.height(d));
"lightbox"==c.playerType&&"wall"!=F&&"normal"==ua&&(e=Yb.width(),d=e/c.playerRatio,a=MVPUtils.getViewportSize(Ba),d=b.height(),d>a.h?(d=a.h,d-=xe,rc.removeClass("mvp-lightbox-center")):rc.addClass("mvp-lightbox-center"),Yb.height(d));db&&c.breakPointArr&&(Ch(),gc!=og&&(og=gc,N.find(".mvp-playlist-item").each(function(){if(0<Na){var m=100/gc;k(this).css({marginLeft:0,marginTop:0,marginRight:Na+"px",marginBottom:Na+"px",width:"calc("+m+"% - "+Na+"px)"})}else k(this).css({marginLeft:0,marginTop:0,marginRight:Na+
"px",marginBottom:Na+"px",width:100/gc+"%"})})));c.minimizeOnScroll&&(ia.hasClass(c.minimizeClass)?"normal"==ua&&(b.width()>a.w-5?b.addClass("mvp-minimize-full-width"):b.removeClass("mvp-minimize-full-width")):ia.css({width:b.width(),height:b.height()}));Fa=Ra.width();he=zg.width();V&&V.height()>L.height()-60&&V.css("maxHeight",L.height()-60).addClass("mvp-settings-holder-scrollable");l&&(W?MVPAspectRatio.resizeMedia("image",hb,L,W):yd&&MVPAspectRatio.resizeMedia("image",hb,L,yd),"video"==l?Rb&&f.is360?
Db&&(e=Z.width(),d=Z.height(),jc.setSize(e,d),qa.aspect=e/d,qa.updateProjectionMatrix()):Ia&&MVPAspectRatio.resizeMedia("video",hb,L,Ia):"image"==l&&(f.is360?yg&&(e=Z.width(),d=Z.height(),sb.setSize(e,d),qa.aspect=e/d,qa.updateProjectionMatrix(),sb.render(de,qa)):rd&&MVPAspectRatio.resizeMedia("image",hb,L,rd)));if(c.elementsVisibilityArr)for(a=c.elementsVisibilityArr.length,e=b.width(),b=0;b<a;b++)d=c.elementsVisibilityArr[b],e<d.width?(-1==d.elements.indexOf("seekbar")&&ab.addClass("mvp-force-hide"),
-1==d.elements.indexOf("play")&&ib.addClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Nc.addClass("mvp-force-hide"),hc.addClass("mvp-force-hide"),ud.addClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&td.addClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&qd.addClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&yc.addClass("mvp-force-hide"),-1==d.elements.indexOf("chapter")&&(Ld.addClass("mvp-force-hide"),wb.addClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&
Pg.addClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&sd.addClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&ye.addClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&ze.addClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&qe.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&oe.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_forward")&&pe.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&ne.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume_seekbar")&&
Ta.addClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Zb.addClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&sc.addClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&tc.addClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&Vb.addClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&Za.addClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&Af.addClass("mvp-force-hide")):(-1==d.elements.indexOf("seekbar")&&ab.removeClass("mvp-force-hide"),-1==
d.elements.indexOf("play")&&ib.removeClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Nc.removeClass("mvp-force-hide"),hc.removeClass("mvp-force-hide"),ud.removeClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&td.removeClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&qd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&yc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("chapter")&&(Ld.removeClass("mvp-force-hide"),wb.removeClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&
Pg.removeClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&sd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&ye.removeClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&ze.removeClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&qe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&oe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("skip_forward")&&pe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&ne.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("volume_seekbar")&&Ta.removeClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Zb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&sc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&tc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&Vb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&Za.removeClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&Af.removeClass("mvp-force-hide"));if(!c.keepCaptionFontSizeAfterManualResize&&
c.caption_breakPointArr&&pa){e=Ka.width();a=c.caption_breakPointArr.length;for(b=0;b<a;b++)if(d=c.caption_breakPointArr[b],e>d.width)var g=d.size;Ka.css("fontSize",g+"px")}se&&xd.resizePagination()}db&&c.playlistOpened&&ob&&ob.resize(wa)}function nh(a){if(!x)return!1;if("undefined"!==typeof a){if(c.playlistOpened&&1==a||!c.playlistOpened&&0==a)return!1;c.playlistOpened=!a}c.playlistOpened?T.hide():T.show();c.playlistOpened=!c.playlistOpened;kb()}function Ud(a){var b={};b.origclasses=a.attr("class");
b.type=b.origtype=a.attr("data-type");void 0!=a.attr("data-noapi")&&(b.noApi=!0);void 0!=a.attr("data-is360")&&(b.is360=!0);void 0!=a.attr("data-media-id")&&(b.mediaId=a.attr("data-media-id"));void 0!=a.attr("data-category")&&(b.category=a.attr("data-category"));void 0!=a.attr("data-tag")&&(b.tag=a.attr("data-tag"));Xe?b.pwd=Xe:void 0!=a.attr("data-pwd")&&(b.pwd=a.attr("data-pwd"));void 0!=a.attr("data-live-stream")&&(b.liveStream=!0);void 0!=a.attr("data-alt")&&(b.alt=a.attr("data-alt"));"audio"==
b.type||"video"==b.type?b.path=a.data("path"):void 0!=a.attr("data-path")&&(b.path=a.attr("data-path"),-1!=b.path.indexOf("ebsfm:")&&(b.path=MVPUtils.b64DecodeUnicode(b.path.substr(6))));void 0!=a.attr("data-mp4")&&(b.mp4=a.attr("data-mp4"));void 0!=a.attr("data-thumb")&&(b.thumb=a.attr("data-thumb"));void 0!=a.attr("data-hover-preview")&&(b.hoverPreview=a.attr("data-hover-preview"));void 0!=a.attr("data-title")&&(b.title=a.attr("data-title"));void 0!=a.attr("data-description")&&(b.description=a.attr("data-description"));
void 0!=a.attr("data-quality")&&(b.quality=a.attr("data-quality"));void 0!=a.attr("data-download")&&(b.download=a.attr("data-download"));void 0!=a.attr("data-watched-complete")&&(b.watchedComplete=!0);void 0!=a.attr("data-poster")&&(b.poster=a.attr("data-poster"));void 0!=a.attr("data-poster-frame-time")&&(b.posterFrameTime=a.attr("data-poster-frame-time"));af?b.lockTime=af:void 0!=a.attr("data-lock-time")&&(b.lockTime=Number(a.attr("data-lock-time")));bf&&(b.lockVideoUserRoles=bf);Ye?b.start=Ye:
void 0!=a.attr("data-start")&&(b.start=Number(a.attr("data-start")));Ze?b.end=Ze:void 0!=a.attr("data-end")&&(b.end=Number(a.attr("data-end")));$e?b.playbackRate=$e:void 0!=a.attr("data-playback-rate")&&(b.playbackRate=Number(a.attr("data-playback-rate")));void 0!=a.attr("data-time-watched")&&(b.timeWatched=a.attr("data-time-watched"));void 0!=a.attr("data-duration")&&(b.duration=a.attr("data-duration"));void 0!=a.attr("data-aspect-ratio")&&(b.aspectRatio=Number(a.attr("data-aspect-ratio")));void 0!=
a.attr("data-id3")&&(b.id3=!0);void 0!=a.attr("data-share")&&(b.share=a.attr("data-share"));void 0!=a.attr("data-limit")&&(b.limit=Number(a.attr("data-limit")));void 0!=a.attr("data-is360")&&(b.is360=!0);void 0!=a.attr("data-preview-seek")&&(b.previewSeek=a.attr("data-preview-seek"));void 0!=a.attr("data-user-id")&&(b.user_id=a.attr("data-user-id"));void 0!=a.attr("data-sort")&&(b.sort=a.attr("data-sort"),void 0!=a.attr("data-sort-direction")&&(b.sortDirection=a.attr("data-sort-direction")));void 0!=
a.attr("data-user-account")&&(b.userAccount=a.attr("data-user-account"));if(a.children(".mvp-subtitles").length){var d=a.children(".mvp-subtitles");d.children("div").length&&(b.subtitles=[],d.children("div").each(function(){var e=k(this),g=e.attr("data-label");g={label:g,value:g,src:e.attr("data-src")};void 0!=e.attr("data-default")&&(g["default"]=!0);b.subtitles.push(g)}),b.subtitles.push({label:c.subtitleOffText,value:c.subtitleOffText}))}a.find(".mvp-custom-playlist-item-content").length&&(b.customContent=
a.find(".mvp-custom-playlist-item-content").html());void 0!=a.attr("data-chapters")&&(b.chapters=a.attr("data-chapters"));void 0!=a.attr("data-link")&&(b.link=a.attr("data-link"),void 0!=a.attr("data-target")?b.target=a.attr("data-target"):b.target="_blank");void 0!=a.attr("data-end-link")&&(b.endLink=a.attr("data-end-link"),b.endTarget="_blank",void 0!=a.attr("data-end-target")&&(b.endTarget=a.attr("data-end-target")));a.children(".mvp-ad-section").length?(b.adSection=a.children(".mvp-ad-section"),
Hc&&(b.adSection=b.adSection.wrap("<p>").parent().html())):Ve&&(b.adSection=Ve,Hc&&(b.adSection=b.adSection.wrap("<p>").parent().html()));a.children(".mvp-annotation-section").length?(b.annotationSection=a.children(".mvp-annotation-section"),Hc&&(b.annotationSection=b.annotationSection.wrap("<p>").parent().html())):We&&(b.annotationSection=We,Hc&&(b.annotationSection=b.annotationSection.wrap("<p>").parent().html()));void 0!=a.attr("data-load-more")&&(fb=!0,cc=a.wrap("<p>").parent().html());return b}
function Jf(a){var b={};b.type=a.attr("data-type");"audio"==b.type||"video"==b.type?b.path=a.data("path"):void 0!=a.attr("data-path")&&(b.path=a.attr("data-path"),-1!=b.path.indexOf("ebsfm:")&&(b.path=MVPUtils.b64DecodeUnicode(b.path.substr(6))));void 0!=a.attr("data-is360")&&(b.is360=!0);void 0!=a.attr("data-poster")&&(b.poster=a.attr("data-poster"));void 0!=a.attr("data-link")&&(b.link=a.attr("data-link"),void 0!=a.attr("data-target")?b.target=a.attr("data-target"):b.target="_blank");void 0!=a.attr("data-end-link")&&
(b.endLink=a.attr("data-end-link"),b.endTarget="_blank",void 0!=a.attr("data-end-target")&&(b.endTarget=a.attr("data-end-target")));void 0!=a.attr("data-skip-enable")&&(b.skipEnable=Math.abs(parseInt(a.attr("data-skip-enable"),10)));void 0!=a.attr("data-ad-id")&&(b.adId=a.attr("data-ad-id"));void 0!=a.attr("data-duration")&&(b.duration=a.attr("data-duration"));return b}function Qg(){P.show();La=!0;gb&&gb.css("opacity",0);k.ajax({url:c.ajax_url,type:"post",data:[{name:"action",value:"mvp_add_more"},
{name:"playlist_id",value:Bb},{name:"addMoreOffset",value:fc},{name:"addMoreLimit",value:ec},{name:"addMoreSortOrder",value:ff},{name:"addMoreSortDirection",value:gf},{name:"encryptMediaPaths",value:hf},{name:"taxonomy",value:jf},{name:"category",value:kf},{name:"tag",value:lf},{name:"match",value:mf}],dataType:"json"}).done(function(a){G&&void 0!=G.attr("data-add-more-offset")&&(fc=parseInt(G.attr("data-add-more-offset"),10)+ec,G.attr("data-add-more-offset",fc));q.addTrack("html",a)}).fail(function(a,
b,d){console.log(a.responseText,b,d);q.endLoadMore()})}function pj(){P.show();La=!0;k.ajax({url:c.ajax_url,type:"post",data:[{name:"action",value:"mvp_add_more"},{name:"playlist_id",value:Bb},{name:"addMoreOffset",value:fc},{name:"addMoreLimit",value:ec},{name:"addMoreSortOrder",value:ff},{name:"addMoreSortDirection",value:gf},{name:"encryptMediaPaths",value:hf},{name:"taxonomy",value:jf},{name:"category",value:kf},{name:"tag",value:lf},{name:"match",value:mf}],dataType:"json"}).done(function(a){N.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){k(this).find(".mvp-thumbimg").removeClass("mvp-visible")});
q.addTrack("html",a);ng(Ya);xh()}).fail(function(a,b,d){console.log(a,b,d);q.endLoadMore()})}function xh(){md[Ya].page=Ya;var a=[];N.find(".mvp-playlist-item:not(.mvp-pagination-hidden)").each(function(){a.push(k(this))});md[Ya].media_id=a}function ng(a){a+=1;var b='<div class="mvp-pagination-container">';1<a&&(b+='<div class="mvp-pagination-page mvp-pagination-prev" data-page-id="prev" title="'+c.paginationPreviousBtnTitle+'">'+c.paginationPreviousBtnText+"</div>");3<a&&(b+='<div class="mvp-pagination-page mvp-pagination-start" data-page-id="0">1</div><div class="mvp-pagination-dots">...</div>');
if(0<a-2){var d=a-2;b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>"}0<a-1&&(d=a-1,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");d=a;b+='<div class="mvp-pagination-page mvp-pagination-currentpage" data-page-id="'+(d-1)+'">'+d+"</div>";a+1<Gc+1&&(d=a+1,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");a+2<Gc+1&&(d=a+2,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");a<Gc-2&&(d=Gc,b+='<div class="mvp-pagination-dots">...</div><div class="mvp-pagination-page mvp-pagination-end" data-page-id="'+
(d-1)+'">'+d+"</div>");a<Gc&&(b+='<div class="mvp-pagination-page mvp-pagination-next" data-page-id="next" title="'+c.paginationNextBtnTitle+'">'+c.paginationNextBtnText+"</div>");b+="</div>";te?te.html(b):n.append('<div class="mvp-pagination-wrap">'+b+"</div>");yi||(yi=!0,te=n.find(".mvp-pagination-wrap").on("click",".mvp-pagination-page:not(.mvp-pagination-currentpage)",function(){if(!x||Ha||La)return!1;La=!0;ue&&ue.removeClass("mvp-pagination-currentpage");ue=k(this).addClass("mvp-pagination-currentpage");
var e=k(this).attr("data-page-id");Ya="prev"==e?Ya-1:"next"==e?Ya+1:parseInt(e,10);null==md[Ya].page?(fc=Ya*ec,pj()):(N.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){k(this).find(".mvp-thumbimg").removeClass("mvp-visible")}),k(md[Ya].media_id).each(function(){var g=k(this).removeClass("mvp-pagination-hidden").find(".mvp-thumbimg").removeClass("mvp-visible");setTimeout(function(){g.addClass("mvp-visible")},20)}),ng(Ya),La=!1)}),ue=te.find(".mvp-pagination-currentpage"))}
function zi(){if(c.activateWhenParentVisibleSelector){var a=k(c.activateWhenParentVisibleSelector);if(0==a.length)console.log("activateWhenParentVisibleSelector doesnt exist!");else if("none"==a.css("display"))var b=setInterval(function(){"none"!=a.css("display")&&(clearInterval(b),Rg())},500);else Rg()}else Rg()}function Bh(){var a={activePlaylist:hd,playlist:JSON.stringify(ka),date:Math.floor(Date.now()/1E3)};G&&(a.globalPlaylistData=G.wrap("<p>").parent().html());fb&&Xa&&cc&&Ob&&(a.loadMoreOnTotalScroll=
!0,a.nextPageToken=Xa,a.loadMoreItem=cc,a.loadMoreType=Ob);zd&&zd.saveData(a)}function Rg(){setTimeout(function(){var a=k('<div class="mvp-playlist-item" style="opacity:0;"></div>').prependTo(n);c.pi_size="h"==od?a.outerWidth(!0):a.outerHeight(!0);a.remove();la.length?Vd():Sg.length?(Ha=!0,P.show(),k(q).trigger("playlistStartLoad",{instance:q,instanceName:c.instanceName}),Ca=Sg,Q=Ca.length,xa()):c.activePlaylist&&!MVPUtils.isEmpty(c.activePlaylist)?th(c.activePlaylist):wh()},50)}c=k.extend(!0,{},
{vimeo_js:"https://player.vimeo.com/api/player.js",vimeoLoader_js:"js/vimeoLoader.js",youtube_js:"https://www.youtube.com/iframe_api",youtubeLoader_js:"js/youtubeLoader.js",dotdot_js:"https://cdnjs.cloudflare.com/ajax/libs/jQuery.dotdotdot/3.2.3/jquery.dotdotdot.js",mCustomScrollbar_js:"https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js",mCustomScrollbar_css:"css/jquery.mCustomScrollbar.css",hls_js:"https://cdn.jsdelivr.net/npm/hls.js@latest",
dash_js:"https://cdn.dashjs.org/latest/dash.all.min.js",mediatags_js:"https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.0/jsmediatags.min.js",jquery_touchSwipe:"https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js",adsbygoogle_js:"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",three_js:"https://cdnjs.cloudflare.com/ajax/libs/three.js/105/three.min.js",orbitControls_js:"https://unpkg.com/three@0.85.0/examples/js/controls/OrbitControls.js",md5_js:"https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js",
equalizer_js:"js/equalizer.js",rel_js:"js/rel_pagination.js",share_js:"js/share_manager.js",cache_js:"js/cache.js",playlist_navigation_js:"js/playlist_navigation.js",sourcePath:"",instanceName:"",queryInstance:"",playerType:"normal",createPlayer:!0,youtubePlayerType:"chromeless",blockYoutubeEvents:!0,vimeoPlayerType:"default",vimeoPlayerColor:"#00adef",blockVimeoEvents:!0,playerRatio:1.7777777,combinePlayerRatio:!0,playlistBottomHeight:300,playlistSideWidth:320,volume:.5,preload:"auto",autoPlay:!1,
autoPlayAfterFirst:!1,autoPlayInViewport:!1,addResizeEvent:!0,mediaEndAction:"next",thumbScrollValue:50,youtubePlayerColor:"red",verticalBottomSepearator:750,subtitleOffText:"Disabled",useMobileNativePlayer:!1,hideQualityMenuOnSingleQuality:!0,useLightboxAdvanceButtons:!0,minimizeOnScroll:!1,minimizeOnScrollOnlyIfPlaying:!1,aspectRatio:2,skipPoster:!1,randomPlay:!1,loopingOn:!0,captionStateKey:"mvp-caption-state",hidePlaylistOnFullscreenEnter:!0,focusVideoInTheater:!0,hidePlaylistOnTheaterEnter:!0,
playlistItemContent:"thumb,title,description",playbackPositionKey:"mvp-playback-position",rightClickContextMenu:"custom",tooltipClose:"Close",tooltipLightboxPrevious:"Previous",tooltipLightboxNext:"Next",closeSettingsMenuOnSelect:!1,playlistOpened:!0,hidePlaylistOnMinimize:!0,clickOnBackgroundClosesLightbox:!0,limitDescriptionText:150,togglePlaybackOnMultipleInstances:!0,showStreamVideoBitrateMenu:!0,showStreamAudioBitrateMenu:!0,useKeyboardNavigationForPlayback:!1,seekTime:10,scrollToPlayer:0,seekToChapterStart:!0,
autoOpenChapterMenu:!0,hideChapterMenuOnChapterSelect:!1,useSwipeNavigation:!1,createAdMarkers:!0,useResumeScreen:!0,showPrevNextVideoThumb:!0,playAdsOnlyOnce:!1,showAnnotationsOnlyOnce:!1,displayWatchedPercentage:!0,truncateWatch:!0,useSearchBar:!0,addPlaylistEvents:!0,idleTimeout:2E3,caption_breakPointArr:[{width:0,size:18},{width:480,size:20},{width:768,size:22},{width:1024,size:24},{width:1280,size:36}],youtubeAppId:"",youtubeThumbSize:"medium",vimeoThumbSize:"295x166",searchDescriptionInPlaylist:!0,
minimizeClass:"mvp-minimize-br",whatsAppWarning:"Please share this content on mobile device!",comingnextTime:10,showControlsBeforeStart:!1,useStatistics:!1,disableVideoSkip:!1,keepCaptionFontSizeAfterManualResize:!1,requirePosterFromFolder:!1,requireThumbnailsFromFolder:!1,useAudioEqualizer:!1,playbackPositionTime:null,mediaId:null,mediaTitle:null,paginationPreviousBtnTitle:"Previous",paginationPreviousBtnText:"Prev",paginationNextBtnTitle:"Next",paginationNextBtnText:"Next"},c);var Lf=MVPUtils.getUrlParameter(),
Rc=[],Sg=[],Ad=[],Bd=[];if(decodeURIComponent(Lf["mvp-query-instance"])==c.instanceName&&(Object.keys(Lf).forEach(function(a){if(0==a.indexOf("mvp-")){var b=a.substr(4),d=b;a=decodeURIComponent(Lf[a]).replace(/\+/g," ");-1==b.indexOf("path-")&&-1==b.indexOf("subtitle-")&&(d=b.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}));a&&(c.hasOwnProperty(d)?("true"===a?a=!0:"false"===a&&(a=!1),c[d]=a):(a=a.split(",").map(function(e){return e.trim()}),-1<d.indexOf("path-")?Ad.push({key:d,value:a}):
-1<d.indexOf("subtitle-")?Bd.push({key:d,value:a}):Rc.push({key:d,value:a})))}}),Ad.length&&(Ad=MVPUtils.regroupArray(Ad),Rc.push({key:"path",value:Ad})),Bd.length&&(Bd=MVPUtils.regroupArray(Bd),Rc.push({key:"subtitles",value:Bd})),Bd=Ad=null,Rc.length)){var ra,Mf,Tg=Rc.length,qj=Rc[0].value.length;for(Mf=0;Mf<qj;Mf++){var Ug={};for(ra=0;ra<Tg;ra++){var Ae=Rc[ra];var Cd=Ae.value[Mf];-1==Ae.key.indexOf("path-")&&-1==Ae.key.indexOf("subtitle-")&&("true"===Cd?Cd=!0:"false"===Cd&&(Cd=!1),Ug[Ae.key]=Cd,
"type"===Ae.key&&(Ug.origtype=Cd))}Sg.push(Ug)}}Lf=null;var q=this,Ba=MVPUtils.isMobile(),Ai=c.useSwipeNavigation&&"ontouchstart"in window,db=!0,n=k(this);c.hidePlayerUntilPlaylistStartLoad?n.addClass("mvp-player-force-hidden"):n.css("display","block");var xe=0;if("wall"==c.playlistPosition||"lightbox"==c.playerType){var Vg='<div class="mvp-lightbox-wrap"><div class="mvp-lightbox"><div class="mvp-lightbox-inner"><div class="mvp-lightbox-content-inner"><div class="mvp-lightbox-close" title="'+c.tooltipClose+
'"><svg viewBox="0 0 384 512"><path d="M217.5 256l137.2-137.2c4.7-4.7 4.7-12.3 0-17l-8.5-8.5c-4.7-4.7-12.3-4.7-17 0L192 230.5 54.8 93.4c-4.7-4.7-12.3-4.7-17 0l-8.5 8.5c-4.7 4.7-4.7 12.3 0 17L166.5 256 29.4 393.2c-4.7 4.7-4.7 12.3 0 17l8.5 8.5c4.7 4.7 12.3 4.7 17 0L192 281.5l137.2 137.2c4.7 4.7 12.3 4.7 17 0l8.5-8.5c4.7-4.7 4.7-12.3 0-17L217.5 256z"></path></svg></div>';c.useLightboxAdvanceButtons&&(Vg+='<div class="mvp-lightbox-prev" title="'+c.tooltipLightboxPrevious+'"><svg viewBox="0 0 256 512"><path d="M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg></div><div class="mvp-lightbox-next" title="'+
c.tooltipLightboxNext+'"><svg viewBox="0 0 256 512"><path d="M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z"></path></svg></div>');Vg+="</div></div></div>";var Da=k(Vg);if("wall"==c.playlistPosition){Da.addClass(n.attr("id")).prependTo(n);var Yb=Da.find(".mvp-lightbox-content-inner").append(n.find(".mvp-player-wrap"));
n.find(".mvp-playlist-holder").prependTo(n)}else"lightbox"==c.playerType&&(Da.addClass(n.attr("id")).appendTo(k("body")),Yb=Da.find(".mvp-lightbox-content-inner").append(n.addClass("mvp-is-lightbox")));var rj=Da.find(".mvp-lightbox");Da.find(".mvp-lightbox-content");var rc=Da.find(".mvp-lightbox-inner");var sj=Da.find(".mvp-lightbox-close");var tj=Da.find(".mvp-lightbox-prev");var uj=Da.find(".mvp-lightbox-next");xe=2*parseInt(Yb.css("padding"),10)}var ia=n.find(".mvp-player-wrap"),Z=n.find(".mvp-media-holder").show(),
T=n.find(".mvp-playlist-holder"),qg=n.find(".mvp-playlist-inner"),N=n.find(".mvp-playlist-content"),Bi=n.find(".mvp-playlist-filter-msg"),oi=n.find(".mvp-subtitle-holder").css("display","none"),Ka=n.find(".mvp-subtitle-holder-inner").attr("aria-hidden",!0),Vb=n.find(".mvp-annotation-holder").css("display","none"),L=n.find(".mvp-player-holder").show(),Qb,Kc,ie,ke,na,uf,me,Va=n.find(".mvp-player-controls"),Ui=n.find(".mvp-player-controls-bottom"),ib=n.find(".mvp-playback-toggle"),Nc=n.find(".mvp-media-time-current").html("00:00"),
ud=n.find(".mvp-media-time-separator"),hc=n.find(".mvp-media-time-total").html("00:00"),vb=n.find(".mvp-preview-seek-wrap"),Wf=n.find(".mvp-preview-seek-inner"),Hi=n.find(".mvp-preview-seek-time-current"),ab=n.find(".mvp-seekbar"),Ra=n.find(".mvp-progress-bg"),ri=n.find(".mvp-load-level"),Fd=n.find(".mvp-progress-level"),ne=n.find(".mvp-volume-wrapper"),Xc=n.find(".mvp-volume-toggle"),Ta=n.find(".mvp-volume-seekbar"),Vc=n.find(".mvp-volume-bg"),Ji=n.find(".mvp-volume-level"),Rd=n.find(".mvp-info-holder"),
sd=n.find(".mvp-info-toggle").hide(),hi=n.find(".mvp-video-title"),gi=n.find(".mvp-player-title"),ii=n.find(".mvp-player-desc"),bc=n.find(".mvp-pwd-holder"),Qe=n.find(".mvp-pwd-field"),bg=n.find(".mvp-pwd-error").text(),tc=n.find(".mvp-playlist-toggle"),P=n.find(".mvp-player-loader").show(),X=n.find(".mvp-big-play"),Wg=n.find(".mvp-loop-toggle"),Xg=n.find(".mvp-shuffle-toggle"),td=n.find(".mvp-download-toggle").hide(),Pg=n.find(".mvp-share-toggle"),Sd=n.find(".mvp-share-holder"),Te=n.find(".mvp-resume-holder"),
kc,ji=n.find(".mvp-live-note"),Za=n.find(".mvp-upnext-wrap"),zf=Za.find(".mvp-upnext-thumb"),Dg=Za.find(".mvp-upnext-title"),fi=Za.find(".mvp-upnext-duration"),Ga=n.find(".mvp-upnext-wrap2"),fg=Ga.find(".mvp-upnext-thumb"),Nf=Ga.find(".mvp-upnext-header"),gg=Ga.find(".mvp-upnext-title"),hg=Ga.find(".mvp-upnext-duration"),ye=n.find(".mvp-next-toggle"),ze=n.find(".mvp-previous-toggle"),qe=n.find(".mvp-rewind-toggle"),oe=n.find(".mvp-skip-backward-toggle"),pe=n.find(".mvp-skip-forward-toggle"),ac=n.find(".mvp-settings-toggle"),
gh=n.find(".mvp-playback-rate-menu"),Je=n.find(".mvp-quality-menu"),hh=n.find(".mvp-quality-settings-menu"),Hd=n.find(".mvp-subtitle-menu"),ih=n.find(".mvp-subtitle-settings-menu"),Ef=n.find(".mvp-audio-language-menu");n.find(".mvp-audio-language-menu-holder");var ki=n.find(".mvp-audio-language-toggle").hide(),Hg=n.find(".mvp-audio-language-settings-menu"),qd=n.find(".mvp-pip-toggle").hide(),yc=n.find(".mvp-cc-toggle").hide(),sc=n.find(".mvp-theater-toggle"),Yc=n.find(".mvp-unmute-toggle"),Kf=n.find(".mvp-comingnext-holder"),
wi=n.find(".mvp-comingnext-poster-holder"),xi=n.find(".mvp-comingnext-data-title"),Og=n.find(".mvp-comingnext-timer-circle-stroke"),vj=n.find(".mvp-comingnext-timer-wrap"),wj=n.find(".mvp-comingnext-cancel"),rh=n.find(".mvp-redirect-login-holder-download"),sh=n.find(".mvp-redirect-login-holder-watch"),Td,Pc=n.find(".mvp-rel-holder"),Ld=n.find(".mvp-chapter-toggle").hide(),wb=n.find(".mvp-chapter-menu-holder"),ad=n.find(".mvp-chapter-title"),Jd=n.find(".mvp-chapter-menu"),vf=n.find(".mvp-ad-seekbar"),
zg=n.find(".mvp-ad-progress-bg"),pi=n.find(".mvp-ad-load-level"),qi=n.find(".mvp-ad-progress-level"),mj=n.find(".mvp-ad-info-time"),re=n.find(".mvp-ad-skip-btn"),ui=n.find(".mvp-ad-skip-msg"),Ig=n.find(".mvp-ad-skip-msg-text"),ni=Ig.html(),mi=n.find(".mvp-ad-skip-msg-end"),ti=n.find(".mvp-ad-skip-thumb"),qb=n.find(".mvp-ad-controls");if(c.playerClass)var oc=c.playerClass;else{var Ci=c.skin,zb=c.navigationType||"",F=c.playlistPosition||"",Of="",tb=c.playlistStyle||"",Yg=c.playerShadow||"";"ht"!=F&&
"hb"!=F||"buttons"!=zb||"dot"!=tb&&"drot"!=tb||(Of=c.navigationStyle);"no-playlist"==F&&(tb="");"vrb"!=F&&"vlb"!=F&&"vb"!=F&&"ht"!=F&&"hb"!=F&&(Of=zb="");"vrb"!=F&&"vlb"!=F&&"vb"!=F&&"ht"!=F&&"hb"!=F&&"no-playlist"!=F&&(Yg="");"outer"==F||"wall"==F?"gdot"!=tb&&"gdbt"!=tb&&(tb="gdot"):("vrb"==F||"vlb"==F||"vb"==F||"ht"==F||"hb"==F)&&"dot"!=tb&&"drot"!=tb&&(tb="drot");var od="v";if("ht"==F||"hb"==F)od="h";oc="mvp-player mvp-skin-"+Ci;-1<Ci.indexOf("flat")&&(oc+=" mvp-skin-flat");MVPUtils.isEmpty(F)||
(oc+=" mvp-"+F);MVPUtils.isEmpty(zb)||(oc+=" mvp-nt-"+zb);MVPUtils.isEmpty(Of)||(oc+=" mvp-ns-"+Of);MVPUtils.isEmpty(tb)||(oc+=" mvp-ps-"+tb);MVPUtils.isEmpty(Yg)||(oc+=" mvp-"+Yg);c.navigationDirection=od;c.navigationType=zb}n.addClass(oc);"wall"==F?(c.playerType="lightbox",c.playlistOpened=!0,tc.remove()):"outer"==F?(c.playerType="normal",c.minimizeOnScroll=!1,c.hidePlaylistOnFullscreenEnter=!1):"no-playlist"==F&&(db=!1,T.remove(),tc.remove());"lightbox"==c.playerType&&(c.autoPlayInViewport=!1,
c.minimizeOnScroll=!1,c.hidePlaylistOnFullscreenEnter=!1,sc.remove());c.minimizeOnScroll&&c.useMinimizeCloseBtn&&ia.append('<div class="mvp-minimize-close mvp-contr-btn" title="'+c.tooltipClose+'"><svg role="img" viewBox="0 0 320 512"><path d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></div>');
n.find(".mvp-playlist-bar").length&&("h"==od&&T.height(T.height()+n.find(".mvp-playlist-bar").height()),"wall"==F||"outer"==F)&&(n.find(".mvp-playlist-bar").prependTo(qg),n.find(".mvp-playlist-filter-msg").remove());"default"==c.youtubePlayerType?c.blockYoutubeEvents=!1:Ai&&(c.blockYoutubeEvents=!0);c.breakPointArr&&c.breakPointArr.length&&MVPUtils.keysrt(c.breakPointArr,"width");c.elementsVisibilityArr&&c.elementsVisibilityArr.length&&MVPUtils.keysrt(c.elementsVisibilityArr,"width");c.caption_breakPointArr&&
c.caption_breakPointArr.length&&MVPUtils.keysrt(c.caption_breakPointArr,"width");c.wrapperMaxWidth&&("lightbox"==c.playerType?rc.css("max-width",c.wrapperMaxWidth):n.css("max-width",c.wrapperMaxWidth));var xj=MVPUtils.isIOS(),yj=MVPUtils.isiPhoneIpod();MVPUtils.isAndroid();var Gi=MVPUtils.hasFullscreen(),lj=MVPUtils.hasDownloadSupport(),zj=MVPUtils.volumeCanBeSet(),Aj=MVPUtils.supportsWebGL(),Fh=MVPUtils.canPlayMp4(),Eh=MVPUtils.canPlayMp3(),Dh=MVPUtils.canPlayWav(),Bj=MVPUtils.isChrome();MVPUtils.isSafari();
var Gd=MVPUtils.hasLocalStorage(),ph=document.pictureInPictureEnabled,Di=c.rememberPlaybackPosition&&Gd,Be=c.instanceName+c.playbackPositionKey,xc=c.instanceName+c.captionStateKey,df=c.playlistItemContent.replace(/\s+/g,"").split(","),aj=c.vimeoThumbSize.substr(0,c.vimeoThumbSize.indexOf("x")),$d=c.useAudioEqualizer&&(window.AudioContext||window.webkitAudioContext),jg=k(c.playlistList),ma=c.autoPlay,J=c.volume,nb=c.volume,fh=c.volume||.5,hb,Vf,cg,x=!1,Ha=!0,La,Ob,ec,ld,fc,hf,Xe,ff,gf,jf,kf,lf,mf,
cc,Xa,fb,Pb=c.addMoreOnTotalScroll;q=this;var Pf=k("body"),Sa=k(window),Qa=k(document),eh=k("html"),ch=0,dh=0,yi,ue,te,Gc,Ya,md=[],Zg,S,yb,za,Oa,f,wd,hd,wa,Q,oh="scroll.minimize"+c.instanceName,rg="scroll.autoplay"+c.instanceName,si,cb,Cg,Ee,ob,Jb,Lb,Kb=[],Qd,Cj="audio video image youtube_single vimeo_single hls dash".split(" "),U,zc,Ff,Hh,va,tf=window.MediaSource,Ih,Qh,Ec,kg,Mh,Jc,w,sg,Cb,be,W,dc,Ac,r,Ia,Nh,rf,Wa,Oc,D,Th,Ag,Fg,Kh,Bf,Ma,Lc,y,Eb,ta=c.vimeoPlayerType,Vh,bi,Uh,ai,je,le,Wh,ci,Gg,Lh,Hb=
0,vd=0,Df=0,Cf,Rb=!0,fe,Oh,Sb,jc,pd,tg,Db,qa,rb,sf,rd,ge,Tb,Ub,Rh,yg,ee,vg,wg,de,sb,Sh,Ic,Ah,nd,of,Zd=[],ca,l,oa,K,fa,dg,Ab,Mb,Nb,Se,eb=!0,Cc,Dc,Bb,pg,id=-1,mg,ka=[],lg=[],la=[],Ca=[],G,gd,yf,af,bf,Ye,Ze,$e,Ie,Ke,Gf,Fb,Zc,Me=[],lb=[],pa,vi,Le,kd,pb,Fc,ef,Ei,yh,gc,Na,og,ei,$b,Pe,ea,cd,Pd,Ph,Md,bd,Nd,Od,Ua=[],Kd,$c,Ne,Oe,mb,xb,Kg,Lg,Dd,Ve,he=0,ce,$g,R,jb=[],Aa,Wb=[],bb=[],If,we,ve,Jg,ae,lc=[],Ib=null,ah,Mc,We,xf,Qc,yd,Hf,xd,se,Re,zd,Wd,Hc=c.useCache&&"indexedDB"in window&&!0,Ce,bh,ed,Eg=!0;c.currentUserRoles&&
(Ce=c.currentUserRoles.split(","));c.downloadVideoUserRoles&&(bh=c.downloadVideoUserRoles.split(","));Ce&&bh&&(Eg=MVPUtils.arrayContainsAnotherArray(bh,Ce));c.playlistContent&&(N=k(c.playlistContent));window.playlistScrollLoading=!1;"undefined"===typeof window.mvp_mediaArr&&(window.mvp_mediaArr=[]);mvp_mediaArr.push({inst:q,id:c.instanceName});0==N.length&&(N=k('<div style="display:none;"></div>'),F="no-playlist",db=!1,zb="");var gb=n.find(".mvp-load-more-btn").on("click",function(){if(!x||La)return!1;
fb?q.loadMore():Pb&&Qg();gb.css("opacity",0)});if(Ai)if("undefined"===typeof k.fn.swipe){var sa=document.createElement("script");sa.type="text/javascript";var Dj=MVPUtils.relativePath(c.jquery_touchSwipe)?c.jquery_touchSwipe:MVPUtils.qualifyURL(c.sourcePath+c.jquery_touchSwipe);sa.src=Dj;sa.onload=sa.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||p()};sa.onerror=function(){alert("Error loading "+this.src)};var pc=document.getElementsByTagName("script")[0];pc.parentNode.insertBefore(sa,
pc)}else p();if("lightbox"==c.playerType){sj.on("click",function(){q.closeLightbox()});if(c.clickOnBackgroundClosesLightbox)rj.on("click",function(a){a.target==this&&q.closeLightbox()});tj.on("click",function(a){a.stopImmediatePropagation();De()});uj.on("click",function(a){a.stopImmediatePropagation();Gb()})}td.on("click",function(a){k(q).trigger("mediaDownload",{instance:q,instanceName:c.instanceName,media:f});(c.restrictDownloadForLoggedInUser&&!c.isUserLoggedIn||!Eg)&&dd("download");c.useStatistics&&
Ng("mvp_download_count",yb)});c.theaterElement&&!MVPUtils.isEmpty(c.theaterElement)&&c.theaterElementClass&&!MVPUtils.isEmpty(c.theaterElementClass)||delete c.theaterElement;if(c.autoPlayInViewport||c.autoPlayAfterFirst)ma=!1;if(ma||c.autoPlayInViewport)if(J=0,c.autoPlayInViewport&&0!=nb)Qa.on("mousedown.apmvp, keydown.apmvp",function(){Qa.off("mousedown.apmvp, keydown.apmvp");cb||(cb=!0,!Ic&&r&&(r.volume=nb,r.muted=!1))});Ba&&c.displayPosterOnMobile&&(ma=!1,c.autoPlayInViewport=!1);db||(c.playlistOpened=
!1,T.remove());c.playlistOpened?T.show():T.hide();yj&&qd.remove();Aj?c.vrInfoImage&&(kc=k('<img class="mvp-vr-info" src="'+c.vrInfoImage+'" alt="drag">').insertAfter(Z)):(Rb=!1,Bj&&console.log("Turn Hardware Acceleration On Within Chrome Browser to enable 360 videos!"));"ht"!=F&&"hb"!=F||"v"!=od||T.css({height:c.playlistBottomHeight});Di&&(window.attachEvent||window.addEventListener)(xj?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=!0);if(!x||!l)return!1;a={activePlaylist:hd,
volume:J,activeItem:yb,resumeTime:parseInt(q.getCurrentTime(),10)};localStorage.setItem(Be,JSON.stringify(a))});Za.find(".mvp-upnext-close").on("click",function(){Za.removeClass("mvp-upnext-on mvp-upnext-visible");yf=!0});zf.on("click",function(){Za.removeClass("mvp-upnext-on mvp-upnext-visible");Gb()});Dg.on("click",function(){Za.removeClass("mvp-upnext-on mvp-upnext-visible");Gb()});re.on("click",function(){if(!x||!R||!ve)return!1;R&&k(q).trigger("adSkip",{instance:q,instanceName:c.instanceName,
media:f});ic()});Vb.on("click",".mvp-annotation-close",function(){if(c.showAnnotationsOnlyOnce){var a=k(this).closest(".mvp-annotation"),b=a.attr("data-id"),d=lc.length;a.remove();for(a=0;a<d;a++)if(b==lc[a].id){lc.splice(a,1);break}}else k(this).closest(".mvp-annotation").hide()});vj.on("click",function(){Gb()});wj.on("click",function(){Bc();li()});if(function(){var a=!1,b=document.URL,d=b.indexOf("://")+3,e=b.indexOf("/",d);b=b.substring(d,e).split(".");d=[1059,653,969,1728];e=[];var g,m,h=b.length;
for(g=0;g<h;g++){var t=b[g];var z=t.length;var ha=m=0;for(m;m<z;m++){var aa=t.charAt(m);ha+=aa.charCodeAt(0)}e.push(ha)}g=0;h=e.length;z=d.length;g;a:for(;g<h;g++)for(m=0,m;m<z;m++)if(e[g]==d[m]){a=!0;break a}return a}()){if("ontouchstart"in window){var Qf="touchstart.ap mousedown.ap";var ub="touchmove.ap mousemove.ap";var Uc="touchend.ap mouseup.ap"}else window.PointerEvent?(Qf="pointerdown.ap",ub="pointermove.ap",Uc="pointerup.ap"):(Qf="mousedown.ap",ub="mousemove.ap",Uc="mouseup.ap");Z.on("click",
function(a){if(!x||c.displayPosterOnMobile||"image"==l||f.is360)return!1;eb?S?R&&q.togglePlayback():q.togglePlayback():q.togglePlayback()});(c.searchSelector?k(c.searchSelector):n.find(".mvp-search-field")).on("keyup",function(){if(0==Q)return!1;var a=k(this).val().toLowerCase(),b,d=0;for(b=0;b<Q;b++){var e=N.children(".mvp-playlist-item").eq(b);var g=e.find(".mvp-playlist-title").length?e.find(".mvp-playlist-title").html().toLowerCase():"";c.searchDescriptionInPlaylist&&e.find(".mvp-playlist-description").length&&
(g+=e.find(".mvp-playlist-description").html().toLowerCase());-1<g.indexOf(a)?N.children(".mvp-playlist-item").eq(b).show():(N.children(".mvp-playlist-item").eq(b).hide(),d++)}d==Q?Bi.show():Bi.hide()});var ua="normal",Uf;Qa.on("fullscreenchange.mvp mozfullscreenchange.mvp MSFullscreenChange.mvp webkitfullscreenchange.mvp",function(a){Uf==c.instanceName&&("fullscreen"==ua?I():B())});var Zb=n.find(".mvp-fullscreen-toggle").on("click",function(){u()});Zb.find(".mvp-btn-normal").hide();Zb.find(".mvp-btn-fullscreen").show();
if("disabled"==c.rightClickContextMenu)n.on("contextmenu",function(){return!1});else if("custom"==c.rightClickContextMenu){var Ed=function(){Pf.off("click.apcc",Ed);nc.hide()};var nc=L.find(".mvp-context-menu").on("contextmenu",function(a){return!1});nc.find(".mvp-context-copy-video-url").on("click",function(a){a=window.location.href+q.getCurrentMediaUrl();var b=document.createElement("input");b.setAttribute("id","mvp-copy-url");document.body.appendChild(b);document.getElementById("mvp-copy-url").value=
a;b.select();try{document.execCommand("copy")}catch(d){}document.body.removeChild(b)});var Fe=nc.find(".mvp-context-fullscreen").on("click",function(a){u()});L.on("contextmenu",function(a){if(c.displayPosterOnMobile||k(a.target).hasClass("mvp-volume-level")||k(a.target).hasClass("mvp-volume-bg")||k(a.target).hasClass("mvp-progress-level")||k(a.target).hasClass("mvp-progress-bg")||k(a.target).hasClass("mvp-load-level")||"block"==bc.css("display")||R)return!1;a.preventDefault();a.stopPropagation();
var b=L[0].getBoundingClientRect(),d=nc.outerWidth(!0),e=nc.outerHeight(!0),g=parseInt(a.pageX-Sa.scrollLeft()-b.left,10);a=parseInt(a.pageY-Sa.scrollTop()-b.top,10);g>L.width()-d&&(g-=d);a>L.height()-e&&(a-=e);nc.css({left:g+"px",top:a+"px"}).show();Pf.one("click.apcc",Ed)}).on("mouseleave",Ed);Pf.on("mouseleave.mvp",Ed);Qa.on("contextmenu.mvp",Ed).keyup(function(a){27==a.keyCode&&Ed()})}var ba=n.find(".mvp-tooltip");if(!Ba)n.on("mouseenter","[data-tooltip]",function(a){a=k(this);var b=a.attr("data-tooltip");
if(MVPUtils.isEmpty(b))return!1;var d=ia.hasClass(c.minimizeClass)?ia:Jb?ia:n,e=d[0].getBoundingClientRect(),g=a[0].getBoundingClientRect();ba.text(b);if(void 0!=a.attr("data-tooltip-position"))if("left"==a.attr("data-tooltip-position"))var m=parseInt(g.top-e.top-ba.outerHeight()/2+a.outerHeight()/2),h=parseInt(g.left-e.left-ba.outerWidth()-3);else"bottom"==a.attr("data-tooltip-position")&&(m=parseInt(g.top-e.top+a.outerHeight()),h=parseInt(g.left-e.left-ba.outerWidth()/2+a.outerWidth()/2));else m=
parseInt(g.top-e.top-ba.outerHeight()),h=parseInt(g.left-e.left-ba.outerWidth()/2+a.outerWidth()/2);0>h?h=0:h+ba.outerWidth()>d.width()&&(h=d.width()-ba.outerWidth());0>m+e.top&&(m=parseInt(g.top-e.top+ba.outerHeight()+15));ba.css({left:h+"px",top:m+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){ba.hide()});var Ge,Fa;ab.on(Qf,function(a){if(x){if(Ei||c.disableVideoSkip||c.seekToChapterStart&&Ua.length||R)return!1;A(a);return!1}});if(!Ba){var Rf=function(){if(S||f.duration)ab.off(ub,
O).off("mouseout",Rf),Qa.off("mouseout.mvp",Rf),f.previewSeek&&(vb.hide(),$b&&mh()),ba.hide()};ab.on("mouseover",function(){if(S||f.duration)ab.on(ub,O).on("mouseout",Rf),Qa.on("mouseout.mvp",Rf)})}var vc=Ta.hasClass("mvp-volume-horizontal");vc?Ta.width():Ta.height();var Wc=vc?Vc.width():Vc.height(),He;0>J?J=0:1<J&&(J=1);if(!zj||Ba)Ta.remove(),Xc.on("click",function(a){da()});else Xc.on("click",function(a){Ba&&0!=Ta.length&&!Ta.hasClass("mvp-force-hide")||da()});Ta.on(Qf,function(a){C(a);return!1});
if(!Ba){var Sf=function(){Ta.off(ub,qc).off("mouseout",Sf);Qa.off("mouseout.mvp",Sf);ba.hide()};Ta.on("mouseover",function(){Ta.on(ub,qc).on("mouseout",Sf);Qa.on("mouseout.mvp",Sf)})}Re||"undefined"!==typeof MVPShareManager||(sa=document.createElement("script"),sa.type="text/javascript",sa.src=MVPUtils.qualifyURL(c.sourcePath+c.share_js),sa.onload=sa.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Re=new MVPShareManager(c))},sa.onerror=function(){alert("Error loading "+
this.src)},pc=document.getElementsByTagName("script")[0],pc.parentNode.insertBefore(sa,pc));var Af=n.find(".mvp-settings-wrap"),V=n.find(".mvp-settings-holder");n.find(".mvp-settings-holder-inner");var wc=n.find(".mvp-settings-home");ac.on("click",function(){V.hasClass("mvp-holder-visible")?V.one("transitionend",function(){V.css({display:"none",width:"auto",height:"auto"});V.find(".mvp-settings-menu").css("display","none");wc.css("display","block");V.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable")}).removeClass("mvp-holder-visible"):
(V.css("display","block"),setTimeout(function(){V.addClass("mvp-holder-visible")},20),mb&&Id(!1))});wc.find(".mvp-menu-item").on("click",function(){var a=k(this).attr("data-target"),b=V.width(),d=V.height();wc.css("display","none");V.find(".mvp-settings-menu").css("display","none");V.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable");V.css({width:"auto",height:"auto"});a=V.find("."+a).css("display","block");var e=a.width(),g=a.height();g>L.height()-60&&V.css("maxHeight",L.height()-
60).addClass("mvp-settings-holder-scrollable");V.css({width:b+"px",height:d+"px"});setTimeout(function(){V.css({width:e+"px",height:g+"px"})},20)});V.find(".mvp-menu-header").on("click",function(){Ja()});gh.find(".mvp-menu-item").on("click",function(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?ac.click():Ja(),!1;var a=k(this).attr("data-value");f.playbackRate=a;Y(a);S&&q.setPlaybackRate(a);c.closeSettingsMenuOnSelect?ac.click():Ja()});this.toggleSubtitle=function(){if(!x||
!l)return!1;if(f&&f.subtitles&&Gd&&localStorage.getItem(xc)){var a=JSON.parse(localStorage.getItem(xc));(a=a.active?c.subtitleOffText:a.value)&&q.setSubtitle(a)}};this.setSubtitle=function(a){if(!x||!l)return!1;Ka.empty();oi.show();if(a==c.subtitleOffText||""==a)""==a&&(a=c.subtitleOffText),Zc=!1,pa=null,Fb&&Fb.removeClass("mvp-menu-active"),Fb=Hd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),yc.addClass("mvp-btn-disabled");else{if(Me[a])Zc=!0,pa=null,Fb&&Fb.removeClass("mvp-menu-active"),
Fb=Hd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),lb=Me[a],Ib=null,uc(!0);else{var b,d=f.subtitles.length;for(b=0;b<d;b++){var e=f.subtitles[b];if(e.label==a){Zc=!1;pa=null;Fb&&Fb.removeClass("mvp-menu-active");Fb=Hd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active");"hls"==oa?Li(e):"dash"!=oa&&jh(e);break}}}yc.removeClass("mvp-btn-disabled")}d=f.subtitles.length;for(b=0;b<d;b++)e=f.subtitles[b],delete e["default"],e.value==a&&(e["default"]=!0);V.find(".mvp-subtitle-menu-value").text(a);
Gd&&(b=localStorage.getItem(xc)?JSON.parse(localStorage.getItem(xc)):{},a==c.subtitleOffText?b.active=!1:(b.active=!0,b.value=a),localStorage.setItem(xc,JSON.stringify(b)))};if(c.useKeyboardNavigationForPlayback)Qa.on("keydown.mvp",function(a){if(!x)return!1;var b=a.keyCode,d=k(a.target);if(d.hasClass("mvp-search-field")||d.hasClass("mvp-pwd-field"))return!0;if(37==b)q.seekBackward();else if(39==b)q.seekForward();else if(70==b)u();else if(84==b){if("fullscreen"==ua)return!1;sc.click()}else 32==b?
(a.preventDefault(),q.togglePlayback()):77==b?da():67==b?q.toggleSubtitle():107==b?pa&&(a=parseInt(Ka.css("fontSize"),10)+1,Ka.css("fontSize",a+"px")):109==b&&pa&&(a=parseInt(Ka.css("fontSize"),10)-1,10>a&&(a=10),Ka.css("fontSize",a+"px"))});var Fi=[ib,tc,X,ne,sd,Pg,Wg,Xg,ye,ze,qe,oe,pe,qd,sc,yc,Ld,n.find(".mvp-chapter-menu-close"),n.find(".mvp-pwd-confirm"),n.find(".mvp-info-close"),n.find(".mvp-share-item"),n.find(".mvp-share-close"),n.find(".mvp-redirect-login-close"),n.find(".mvp-minimize-close"),
n.find(".mvp-resume-continue"),n.find(".mvp-resume-restart")];Tg=Fi.length;for(ra=0;ra<Tg;ra++)k(Fi[ra]).css("cursor","pointer").on("click",Pi);!Ba&&c.showPrevNextVideoThumb?(ye.on("mouseenter",function(){Nf.html(Nf.attr("data-next-title"));qh(ye,1)}).on("mouseleave",function(){Ga.removeClass("mvp-upnext-wrap2-visible")}),ze.on("mouseenter",function(){Nf.html(Nf.attr("data-prev-title"));qh(ze,-1)}).on("mouseleave",function(){Ga.removeClass("mvp-upnext-wrap2-visible")})):Ga.remove();var M=new MVPPlaylistManager(c);
k(M).on("MVPPlaylistManager.COUNTER_READY",function(a,b){wd=null;$g=yf=Cg=dc=!1;ce=null;Aa=0;jb=[];bb=[];If=null;Wb=[];Dd=null;Ra.find(".mvp-ad-indicator").remove();ae=!1;Ra.find(".mvp-chapter-indicator").remove();ad.css("opacity",0);Ua=[];$c=Kd=!1;Oe=Ne=null;ab.removeClass("mvp-seekbar-chapters");ah=!1;Mc=null;l&&mc();yb=b;f=ka[yb].data;Ti();ed=!0;Ce&&f.lockVideoUserRoles&&(ed=MVPUtils.arrayContainsAnotherArray(f.lockVideoUserRoles,Ce));ah||(ah=!0,f.annotationSection&&(Mc=f.annotationSection,0==
Mc instanceof k&&(Mc=k(Mc))));if(!$g)if($g=!0,f.adPre||f.adMid||f.adEnd){wd=f;if(f.adMid){var d=f.adMid.length;for(ra=0;ra<d;ra++){var e=f.adMid[ra];bb.push({begin:e.begin,data:e,type:e.type})}}if(f.adEnd){d=f.adEnd.length;for(ra=0;ra<d;ra++)e=f.adEnd[ra],Wb.push({data:e,type:e.type});Aa=-1}if(f.adPre){d=f.adPre.length;for(ra=0;ra<d;ra++)e=f.adPre[ra],jb.push({data:e,type:e.type});Aa=0;f=jb[Aa].data;R=!0}}else f.adSection&&(Dd=f.adSection,0==Dd instanceof k&&(Dd=k(Dd)),wd=f,Dd.find(".mvp-ad").each(function(){var g=
k(this);if(g.hasClass("mvp-ad-pre"))jb.push(g);else if(g.hasClass("mvp-ad-mid")){var m=parseInt(g.attr("data-begin"),10);bb.push({begin:m,data:g})}else g.hasClass("mvp-ad-end")&&Wb.push(g)}),jb.length?(Aa=0,f=Jf(jb[Aa]),R=!0):Wb.length&&(Aa=-1));k(q).trigger("mediaRequest",{instance:q,instanceName:c.instanceName,media:f});Yd()}).on("MVPPlaylistManager.RANDOM_CHANGE",function(a,b){b?Xg.addClass("mvp-contr-btn-hover"):Xg.removeClass("mvp-contr-btn-hover")}).on("MVPPlaylistManager.LOOP_CHANGE",function(a,
b){b?Wg.addClass("mvp-contr-btn-hover"):Wg.removeClass("mvp-contr-btn-hover")});window.onYouTubeIframeAPIReady=function(){};q.toggleRel=function(){se?Pc.one("transitionend",function(){Pc.css("display","none");se=!1}).removeClass("mvp-holder-visible"):(Pc.css("display","block"),setTimeout(function(){Pc.addClass("mvp-holder-visible");se=!0;xd.build()},20))};window.onbeforeunload=function(a){f&&Bc()};if(c.addResizeEvent)Sa.on("resize",function(){if(!x)return!1;Zg&&clearTimeout(Zg);Zg=setTimeout(kb,250)});
this.playMedia=function(){if(!x||!l||fa)return!1;if("audio"==l){if(w){var a=w.play();void 0!==a&&a.then(function(){})["catch"](function(b){X.show();P.hide()})}}else"video"==l?W&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),W=null),X.hide(),ja()):r&&(a=r.play(),void 0!==a&&a.then(function(){})["catch"](function(b){X.show();P.hide()})):"youtube"==l?W&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),W=null),ja()):D.playVideo():"vimeo"==l&&(W&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),
W=null),ja()):y.play());fa=!0};this.pauseMedia=function(){if(!x||!l||!fa)return!1;"audio"==l?w&&w.pause():"video"==l?r&&r.pause():"youtube"==l?D.pauseVideo():"vimeo"==l&&y.pause();fa=!1};this.togglePlayback=function(){if(!x||!l)return!1;if(!c.displayPosterOnMobile||!f.poster)if(Sa.off(rg),"audio"==l)if(W&&!S)0!=nb&&(J=nb),X.hide(),P.show(),ja();else{if(w)if(w.paused){var a=w.play();void 0!==a&&a.then(function(){})["catch"](function(b){X.show();P.hide()})}else w.pause()}else"video"==l?W&&!S?(c.showPosterOnPause?
na.hide():(na.hide().empty(),W=null),X.hide(),P.show(),ja()):r&&(r.paused?(a=r.play(),void 0!==a&&a.then(function(){})["catch"](function(b){X.show();P.hide()})):r.pause()):"youtube"==l?W&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),W=null),X.hide(),ja()):D&&(a=D.getPlayerState(),1==a?D.pauseVideo():2==a?D.playVideo():(-1==a||5==a||0==a)&&D.playVideo()):"vimeo"==l?W&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),W=null),X.hide(),ja()):y&&y.getPaused().then(function(b){b?y.play():y.pause()}):
"custom"==l&&W&&!S&&(c.showPosterOnPause?na.hide():(na.hide().empty(),W=null),X.hide(),ja())};this.nextMedia=function(){if(!x)return!1;Gb()};this.previousMedia=function(){if(!x)return!1;De()};this.setVolume=function(a){if(!x)return!1;0>a?a=0:1<a&&(a=1);Pa(a)};this.toggleMute=function(){if(!x)return!1;da()};this.disableSeek=function(a){Ei=a};this.seek=function(a){if(!x||!l)return!1;"audio"==l?w&&(w.currentTime=a):"video"==l?r&&(r.currentTime=a):"youtube"==l?D&&D.seekTo(a):"vimeo"==l&&y&&y.setCurrentTime(a)};
this.seekBackward=function(a){if(!x||!l)return!1;if("audio"==l){if(w)try{w.currentTime=Math.max(w.currentTime-(a||c.seekTime),0)}catch(d){console.log(d)}}else if("video"==l){if(r)try{r.currentTime=Math.max(r.currentTime-(a||c.seekTime),0)}catch(d){console.log(d)}}else if("youtube"==l){var b=Math.max(D.getCurrentTime()-(a||c.seekTime),0);D.seekTo(b)}else"vimeo"==l&&y.getCurrentTime().then(function(d){y.setCurrentTime(Math.max(d-(a||c.seekTime),0))})};this.seekForward=function(a){if(!x||!l)return!1;
if("audio"==l){if(w)try{w.currentTime=Math.min(w.currentTime+(a||c.seekTime),w.duration)}catch(d){console.log(d)}}else if("video"==l){if(r)try{r.currentTime=Math.min(r.currentTime+(a||c.seekTime),r.duration)}catch(d){console.log(d)}}else if("youtube"==l){var b=Math.min(D.getCurrentTime()+(a||c.seekTime),D.getDuration());D.seekTo(b)}else"vimeo"==l&&(0!=Hb&&0!=vd?(b=Math.min(vd+(a||c.seekTime),Hb),y.setCurrentTime(b)):y.getCurrentTime().then(function(d){y.getDuration().then(function(e){y.setCurrentTime(Math.min(d+
(a||c.seekTime),e))})}))};this.getCurrentMediaData=function(){return x?l?f:null:!1};this.getCurrentMediaUrl=function(){if(!x)return!1;if(!l)return"";var a=-1==window.location.href.indexOf("?")?"?":"&";var b="mvp-query-instance="+encodeURIComponent(c.instanceName),d=void 0!=f.mediaId?"&mvp-media-id="+f.mediaId:"&mvp-active-item="+yb,e=S&&"image"!=l?"&mvp-playback-position-time="+Math.floor(q.getCurrentTime()):"";a=a+b+"&mvp-scroll-to-player=1"+d+e;void 0!=f.mediaId&&-1==Cj.indexOf(f.origtype)&&f.title&&
(b="&mvp-media-title="+encodeURIComponent(f.title),a+=b);return a};this.getCurrentTime=function(){if(!x||!l)return!1;if(!S)return"0";if("audio"==l)return w.currentTime;if("video"==l)return r.currentTime;if("youtube"==l)return D?D.getCurrentTime():"0";if("vimeo"==l)return vd};this.getDuration=function(){if(!x||!l)return!1;if("audio"==l)return w.duration;if("video"==l)return r.duration;if("youtube"==l)return D.getDuration();if("vimeo"==l)return Hb};this.getLoadProgress=function(){if(!x||!l)return!1;
var a;if("audio"==l){if("undefined"!==typeof w.buffered&&0!=w.buffered.length){try{var b=w.buffered.end(w.buffered.length-1)}catch(d){}isNaN(b)||(a=b/Math.floor(w.duration))}}else if("video"==l){if("undefined"!==typeof r.buffered&&0!=r.buffered.length){try{b=r.buffered.end(r.buffered.length-1)}catch(d){}isNaN(b)||(a=b/Math.floor(r.duration))}}else"youtube"==l?a=D.getVideoLoadedFraction():"vimeo"==l&&(a=Df);return a};this.togglePlaylist=function(a){if(!x)return!1;nh(a)};this.toggleRandom=function(a){if(!x||
"undefined"===typeof M)return!1;M.setRandom(a)};this.toggleLoop=function(a){if(!x||"undefined"===typeof M)return!1;M.setLooping(a)};this.setPlaybackRate=function(a){if(!x||!l)return!1;f.playbackRate=a;S&&("audio"==l?w&&(w.playbackRate=a):"video"==l?r&&(r.playbackRate=a):"youtube"==l?D.setPlaybackRate(Number(a)):"vimeo"==l&&y.setPlaybackRate(a).then(function(b){})["catch"](function(b){console.log(b.name)}))};this.setPlaybackQuality=function(a){if(!x||!l)return!1;if(S&&("audio"==l||"video"==l))if("hls"==
oa)a=parseInt(a,10),f.quality?U.currentLevel=a:(U.currentLevel=a,U.nextLevel=a,U.loadLevel=a);else if("dash"==oa)a=parseInt(a,10),va.setQualityFor("video",a);else{f.quality=a;v(a);of=!0;Db=!1;Oa&&cancelAnimationFrame(Oa);za&&clearInterval(za);ca=null;if("audio"==l)w&&(ca=w.currentTime,w.pause(),w.src=""),Jc&&Jc.off("ended pause play canplay ratechange loadedmetadata error"),$d&&Cb&&Cb.clean();else if("video"==l){Rb&&f.is360&&Sb&&Sb.hide();if(r){ca=r.currentTime;r.pause();try{r.currentTime=0}catch(b){}r.src=
"";r=null}Ia&&Ia.off("ended loadedmetadata canplay canplaythrough ratechange waiting playing play pause error seeked")}X.hide();S=fa=!1;Xf();ja()}};this.toggleInfo=function(a){if(!x||!l)return!1;$f(a)};this.toggleShare=function(a){if(!x||!l)return!1;ag(a)};this.toggleFullscreen=function(){if(!x)return!1;u()};this.openLightbox=function(a){if(!x||Jb)return!1;Da.css("display","block");setTimeout(function(){clearTimeout(this);Da.css("opacity",1)},50);"undefined"!==typeof a?(a=N.find(".mvp-playlist-item[data-media-id="+
a+"]"),0!=a.length?(a=a.attr("data-id"),M.processPlaylistRequest(a)):M.processPlaylistRequest(M.getCounter())):M.processPlaylistRequest(M.getCounter())};this.closeLightbox=function(){if(!x)return!1;Da.one("transitionend",function(){Da.css("display","none");Jb=!1}).css("opacity",0);l&&mc()};this.destroyMedia=function(){if(!x)return!1;Mg()};this.destroyPlaylist=function(){if(!x)return!1;Ue()};this.destroyInstance=function(){Ue();M&&(k(M).off(),M=null);Wa&&(k(Wa).off(),Wa=null);Ma&&(k(Ma).off(),Ma=null);
Cb&&(Ma=null);U&&(U.off(),U.destroy(),U=null);va&&(va.off(),dashjs.MediaPlayer().reset(),va=null);Qa.off(".mvp");Pf.off(".mvp")};this.loadPlaylist=function(a,b){if(!x||Ha)return!1;if("string"===typeof a){c.mediaId=b;if(hd==a)return!1;th(a)}else return alert("Invalid value loadPlaylist!"),!1};this.setAutoPlay=function(a){ma=a};this.inputMedia=function(a){if(!x||Ha)return!1;wa&&eg();0<Q&&M.reSetCounter();f=a;l=a.type;Q&&0!=Q||(c.mediaEndAction="loop");Yd()};this.loadMedia=function(a,b,d){if(!x||Ha||
!Dc)return!1;var e=-1;if("title"==a){for(a=0;a<Q;a++)if(b==ka[a].data.title){e=a;var g=!0;break}if(!g)return alert('No media with title "'+b+'" to load! LoadMedia failed.'),!1}else if("counter"==a){if(0>b||b>Q-1)return alert('Invalid track number. Track number  "'+b+'" doesnt exist. LoadMedia failed.'),!1;e=b}else if("id"==a){e=N.find(".mvp-playlist-item[data-media-id="+b+"]");if(0==e.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),!1;e=e.attr("data-id")}else if("id-title"==
a){e=N.find('.mvp-playlist-item[data-media-id="'+b+'"][title="'+d+'"]');if(0==e.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),!1;e=e.attr("data-id")}else return console.log("loadMedia function requires format parameter!"),!1;Bc();M.processPlaylistRequest(e)};this.addTrack=function(a,b,d,e,g){if(!x||Ha)return!1;ef=!1;"undefined"!==typeof d&&(ef=d);mg=g?!0:!1;d=1;g=!1;if("string"!==typeof b&&"[object Object]"!==Object.prototype.toString.call(b))if("[object Array]"===
Object.prototype.toString.call(b))d=b.length,g=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;pb=e;kd=!1;Fc=!0;Dc?"undefined"!==typeof pb?0>pb?pb=0:(pb=Q,kd=!0):(kd=!0,pb=Q):(pb=0,kd=!0);Ha=!0;P.show();id=-1;la=[];Ca=[];for(e=0;e<d;e++){var m=g?b[e]:b;m="html"==a?Ud(k(m)):m;Ca.push(m)}Q=Ca.length;Dc=N;Wd=!1;mg?(la=Ca,Vd()):xa()};this.removeTrack=function(a,b){if(!x||Ha)return!1;if(0!=Q){if("title"==a){var d;for(d=0;d<Q;d++)if(b==ka[d].data.title){var e=
N.children(".mvp-playlist-item").eq(d);var g=!0;break}if(!g)return alert('Track with title "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else if("counter"==a){b=parseInt(b,10);if(0>b||b>Q-1)return alert('Track number  "'+b+'" doesnt exist. RemoveTrack failed.'),!1;e=N.find(".mvp-playlist-item").eq(b)}else if("id"==a){if(e=N.find(".mvp-playlist-item[data-media-id="+b+"]"),0==e.length)return alert('Track with media id "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method failed."),
!1;e.remove();ka.splice(parseInt(e.attr("data-id"),10),1);vh();0<Q?(e=M.getCounter(),b==e?(mc(),M.setPlaylistItems(Q)):(M.setPlaylistItems(Q,!1),b<e&&M.reSetCounter(M.getCounter()-1))):Ue();Hc&&Bh()}};this.totalScrollAction=function(){fb?Xa&&Ob&&(Ha||q.loadMore()):Pb&&(La||Qg())};this.loadMore=function(){if(!x||!Ob||!Xa||Ha)return!1;Ha=!0;P.show();La=!0;la=[];if("youtube"==Ob)if(Wa)Wa.resumeLoad(Xa);else{jd("youtube");var a=setInterval(function(){Wa&&(clearInterval(a),Wa.resumeLoad(Xa))},100)}else"vimeo"==
Ob&&(Ma?Ma.resumeLoad(Xa):(jd("vimeo"),a=setInterval(function(){Ma&&(clearInterval(a),Ma.resumeLoad(Xa))},100)))};this.setLoadMore=function(a){fb=a};this.endLoadMore=function(){Ha=!1;P.hide();La=!1};this.addMore=function(){if(!x||Ha)return!1;Pb&&(La||Qg())};this.setAddMore=function(a){Pb=a};this.getTitle=function(){return x&&f?f.title:!1};this.getMediaPlaying=function(){return x?fa:!1};this.getPlaylistLength=function(){return x?Q:!1};this.getPlaylistData=function(){return x?ka:!1};this.getLastPlaylistData=
function(){return x?lg:!1};this.getMediaType=function(){return x?l:!1};this.getSetupDone=function(){return x};this.isPlaylistLoading=function(){return Ha};this.getSettings=function(){return c};this.getActiveItemId=function(){return x?"undefined"!==typeof M?M.getCounter():null:!1};this.adSkip=function(){if(!x||!R||!ve)return!1;re&&re.trigger("click")};this.resize=function(){if(!x)return!1;kb()};if(Gd&&c.playbackPositionKey)if(!Di)localStorage.removeItem(Be);else if(localStorage.getItem(Be)){var Tf=
JSON.parse(localStorage.getItem(Be));Tf.activePlaylist==c.activePlaylist&&(c.playbackPositionTime=Tf.resumeTime,J=Tf.volume,c.activeItem=Tf.activeItem);localStorage.removeItem(Be)}Hc?"undefined"===typeof MVPCacheManager&&(sa=document.createElement("script"),sa.type="text/javascript",sa.src=MVPUtils.qualifyURL(c.sourcePath+c.cache_js),sa.onload=sa.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(zd=new MVPCacheManager("TeanCacheMVP"),k(zd).on("MVPCacheManager.GET_DATA",
function(a,b){if(b){var d=b.value;if(d.date+c.cacheTime>Math.floor(Date.now()/1E3))if(d.activePlaylist==c.activePlaylist){hd=c.activePlaylist;Wd=!0;console.log("Playlist is loading from cache!");d.globalPlaylistData&&N.html(d.globalPlaylistData);var e=JSON.parse(d.playlist);la=[];var g,m=e.length;for(g=0;g<m;g++)la.push(e[g].data);d.loadMoreOnTotalScroll&&(fb=d.loadMoreOnTotalScroll,Xa=d.nextPageToken,cc=d.loadMoreItem,Ob=d.loadMoreType)}else zd.deleteData();else zd.deleteData()}zi()}))},sa.onerror=
function(){alert("Error loading "+this.src)},pc=document.getElementsByTagName("script")[0],pc.parentNode.insertBefore(sa,pc)):zi();c.showControlsBeforeStart&&(ib.find(".mvp-btn-play").show(),Pa());return this}}})(jQuery);